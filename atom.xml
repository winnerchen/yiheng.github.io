<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Chen&#39;s Blog</title>
  <icon>https://www.gravatar.com/avatar/812f0f505d3ebda3f438a97360dc87cd</icon>
  
  <link href="/yiheng.github.io/atom.xml" rel="self"/>
  
  <link href="https://winnerchen.github.io/"/>
  <updated>2022-06-11T08:38:55.971Z</updated>
  <id>https://winnerchen.github.io/</id>
  
  <author>
    <name>Yiheng Chen</name>
    <email>yiheng.chen233@gmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Developing On AWS</title>
    <link href="https://winnerchen.github.io/2019/11/25/developing-on-aws/"/>
    <id>https://winnerchen.github.io/2019/11/25/developing-on-aws/</id>
    <published>2019-11-25T05:20:55.000Z</published>
    <updated>2022-06-11T08:38:55.971Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Course-Structure"><a href="#Course-Structure" class="headerlink" title="Course Structure"></a>Course Structure</h2><h3 id="Fundamentals-for-3-tier-web-apps"><a href="#Fundamentals-for-3-tier-web-apps" class="headerlink" title="Fundamentals for 3-tier web apps"></a>Fundamentals for 3-tier web apps</h3><ul><li>Cloud Compute<ul><li>IAM</li><li>EC2</li><li>ELB</li><li>ROUTE 53</li></ul></li></ul><ul><li><p>Data Store</p><ul><li>RDS</li><li>ElastiCache</li></ul></li><li><p>Object Storage</p><ul><li>S3</li></ul></li></ul><a id="more"></a><h3 id="Developer-tools"><a href="#Developer-tools" class="headerlink" title="Developer tools"></a>Developer tools</h3><ul><li>AWS CLI</li><li>Python SDK </li><li>Node.js</li><li>IAM</li></ul><h3 id="CI-CD-with-monitoring-and-infrastructure-as-code"><a href="#CI-CD-with-monitoring-and-infrastructure-as-code" class="headerlink" title="CI/CD with monitoring and infrastructure as code"></a>CI/CD with monitoring and infrastructure as code</h3><ul><li>Elastic Beanstalk</li><li>AWS CodeCommit</li><li>CodeBuild</li><li>CodeDeploy</li><li>CodePipeline</li><li>CloudFormation</li><li>CloudWatch</li><li>CloudTrail</li><li>X-Ray</li></ul><h3 id="Application-decoupling-amp-integration"><a href="#Application-decoupling-amp-integration" class="headerlink" title="Application decoupling &amp; integration"></a>Application decoupling &amp; integration</h3><ul><li>SQS</li><li>SNS</li><li>Kinesis</li></ul><h3 id="Servless-paradigm"><a href="#Servless-paradigm" class="headerlink" title="Servless paradigm"></a>Servless paradigm</h3><ul><li>Lambda</li><li>Dynamodb</li><li>Dynamodb accelerator</li><li>API Gateway</li><li>Coginto</li><li>SAM</li></ul><h2 id="AWS-fundamentals-IAM-EC2"><a href="#AWS-fundamentals-IAM-EC2" class="headerlink" title="AWS fundamentals: IAM+EC2"></a>AWS fundamentals: IAM+EC2</h2><h3 id="IAM"><a href="#IAM" class="headerlink" title="IAM"></a>IAM</h3><ul><li>users<ul><li>usually a physical person</li></ul></li><li>Groups<ul><li>Contains users</li><li>users in the group inherits permission attached to this group</li></ul></li><li>Roles<ul><li>Internal usage within AWS resources</li></ul></li><li>Policies<ul><li>define permissions</li></ul></li></ul><p><img src="https://developing-on-aws-imgs.s3-ap-southeast-2.amazonaws.com/1.jpg" alt="image"></p><ul><li>IAM has global view</li><li>Permissions are governed by Policies</li><li>Least privilege principles</li></ul><p>-</p><h4 id="IAM-101"><a href="#IAM-101" class="headerlink" title="IAM 101"></a>IAM 101</h4><ul><li>One IAM User per physical person</li><li>One IAM role per application</li><li>IAM credentials should never be shared</li><li>Never write IAM credentials in code</li><li>Never use the root account except for initial setup</li><li>Never use ROOT IAM credentials</li></ul><h4 id="Security-Groups"><a href="#Security-Groups" class="headerlink" title="Security Groups"></a>Security Groups</h4><ul><li>they control how traffic is allowed into or out of our EC2 machines</li><li>Acts as a firewall on EC2 instances</li><li>They regulate:<ul><li>Access to Ports</li><li>authorised IP ranges - ipv4 and ipv6</li><li>control of inbound network</li><li>control of outbound network</li></ul></li></ul><h5 id="Good-to-know-about-security-groups"><a href="#Good-to-know-about-security-groups" class="headerlink" title="Good to know about security groups"></a>Good to know about security groups</h5><ul><li>can be attached to multiple instances</li><li>one ec2 instance can attach to multiple security group</li><li>locked down to a region/vpc combination </li><li>live outside of the ec2 - if traffice is blocked the ec2 instance won’t see it</li><li>it’s good to maintain one separate security group for SSH access</li><li>if your application is not accessible, then it’s a security group issue</li><li>if your application gives a ‘connection refused’ error, then it’s an application error or it’s not launched</li><li>all inbound traffic is <strong>blocked</strong> by default</li><li>all outbound traffice is <strong>authorised</strong> by default</li></ul><p><img src="https://developing-on-aws-imgs.s3-ap-southeast-2.amazonaws.com/2.jpg" alt="image"></p><p>a security group can reference to another security group and authorise instances that attach to the right security group to access</p><p><img src="https://developing-on-aws-imgs.s3-ap-southeast-2.amazonaws.com/3.jpg" alt="image"></p><h4 id="Private-vs-Public-IP"><a href="#Private-vs-Public-IP" class="headerlink" title="Private vs Public IP"></a>Private vs Public IP</h4><ul><li>by default, your ec2 machine comes with<ul><li>a private ip for the internal AWS network</li><li>a public ip, for the www</li></ul></li><li>when we are doing SSH into our EC2 machines<ul><li>we can only use the public ip</li></ul></li><li>If your machine is stopped and restarted, the public IP can change</li></ul><h4 id="EC2-User-Data"><a href="#EC2-User-Data" class="headerlink" title="EC2 User Data"></a>EC2 User Data</h4><ul><li>Bootstrap script that allow you to run custom commands when a instance is launched</li><li>It is only run once at the instance first started</li><li>Used to automate boot tasks such as:<ul><li>Installing updates</li><li>installing software</li><li>Downloading common files from the internet</li><li>Anything you can think of</li></ul></li><li>The ec2 user data scrip runs with the root privilege.</li></ul><h4 id="EC2-Instance-Launce-Types"><a href="#EC2-Instance-Launce-Types" class="headerlink" title="EC2 Instance Launce Types"></a>EC2 Instance Launce Types</h4><ul><li>On Demand Instance: short work load, predictable pricing<ul><li>pay for what you use</li><li>has the highest rate but no upfront payment</li><li>no long term commitment</li></ul></li><li>Reserved Instances: long workloads (&gt;= 1 year)<ul><li>up to 75% discount compared to on-demand</li><li>pay upfront for what you use with long term commitment</li><li>reservation period can be 1 or 3 years</li><li>reserve a specific instance type</li><li>recommended for steady state usage application (think of database)</li></ul></li><li>Convertible Reserved Instance: long workloads with flexible instances<ul><li>can change the EC2 instance type</li><li>up to 54% discount</li></ul></li><li>Scheduled Reserved Instances: <ul><li>launch within time window you reserve</li></ul></li><li>Spot Instance: short workloads, for cheap, can lose instances<ul><li>can get a discount of up to 90% compared to on-demand</li><li>you bid a price and get the instance as long as its under the price</li><li>price varies based on offer and demand</li><li>spot instances are reclaimed with a 2 minute notification warning when the spot price goes above your bid</li><li>used for batch jobs, Big Data analysis, or workloads that are resilient to failures</li><li>not great for critical services</li></ul></li><li>Dedicated Instances: no other customers will share your hardware<ul><li>instances running on hardware that’s dedicated to you</li><li>may share hardware with other instances in same account</li><li>no control over instance placement (can move hardware after stop/start)</li></ul></li><li>Dedicated Hosts: book an entire physical server, control instance placement<ul><li>physical dedicated ec2 server for your use</li><li>full control of ec2 instance placement</li><li>visibility into the underlying sockets/physical cores of the hardware</li><li>allocated for your account for a 3 year period reservation</li><li>more expensive</li><li>useful for software that have complicated licensing model</li><li>or for companies that have strong regulatory or compliance needs</li></ul></li></ul><p><img src="https://developing-on-aws-imgs.s3-ap-southeast-2.amazonaws.com/4.jpg" alt="image"></p><h4 id="EC2-Pricing"><a href="#EC2-Pricing" class="headerlink" title="EC2 Pricing"></a>EC2 Pricing</h4><ul><li><p>Pricing parameters (per hour):</p><ul><li>region</li><li>Instance Type</li><li>Operating system</li></ul></li><li><p>billed by the second, with a minimum of 60 seconds.</p></li><li>you do not pay for the instance if the instance is stopped</li></ul><h4 id="what-is"><a href="#what-is" class="headerlink" title="what is"></a>what is</h4>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Course-Structure&quot;&gt;&lt;a href=&quot;#Course-Structure&quot; class=&quot;headerlink&quot; title=&quot;Course Structure&quot;&gt;&lt;/a&gt;Course Structure&lt;/h2&gt;&lt;h3 id=&quot;Fundamentals-for-3-tier-web-apps&quot;&gt;&lt;a href=&quot;#Fundamentals-for-3-tier-web-apps&quot; class=&quot;headerlink&quot; title=&quot;Fundamentals for 3-tier web apps&quot;&gt;&lt;/a&gt;Fundamentals for 3-tier web apps&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Cloud Compute&lt;ul&gt;
&lt;li&gt;IAM&lt;/li&gt;
&lt;li&gt;EC2&lt;/li&gt;
&lt;li&gt;ELB&lt;/li&gt;
&lt;li&gt;ROUTE 53&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Data Store&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RDS&lt;/li&gt;
&lt;li&gt;ElastiCache&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Object Storage&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;S3&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Deep Dive Into Java8 Stream</title>
    <link href="https://winnerchen.github.io/2019/11/14/deep-dive-into-java8-stream/"/>
    <id>https://winnerchen.github.io/2019/11/14/deep-dive-into-java8-stream/</id>
    <published>2019-11-13T23:56:28.000Z</published>
    <updated>2022-06-11T08:38:55.971Z</updated>
    
    <content type="html"><![CDATA[<h2 id="What-is-stream"><a href="#What-is-stream" class="headerlink" title="What is stream"></a>What is stream</h2><ul><li>Before we start, let’s image a scenario where you have a collection of apples and you want to filter them by their weight, and you only want to keep apples that are more than 100 grams, how would you do it? Before Java8 and Stream was introduced, you might write code like this to iterate over the collection and store the ones that match the condition to another list.</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Apple&gt; <span class="title">filterByWeight</span><span class="params">(List&lt;apple&gt; apples, <span class="keyword">int</span> weight)</span></span>&#123;</span><br><span class="line">    List&lt;Apple&gt; filteredApples = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Apple apple : apples)&#123;</span><br><span class="line">        <span class="keyword">if</span>(apple.weight &gt; weight)&#123;</span><br><span class="line">            filteredApples.add(apple);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> filteredApples;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>Client code which invokes this method would be like this:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Apple&gt; filteredApples = filterByWeight(apples,<span class="number">100</span>)</span><br></pre></td></tr></table></figure><p>The above code complies and runs perfectly fine and it might also be effective. </p><p>Now let’s take a look at what we can achieve with the help of Stream.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Apple&gt; filteredApples = apples.stream().filter(e-&gt; e.weight&gt;<span class="number">100</span>).collect(toList());</span><br></pre></td></tr></table></figure><p>Yes, that’s right. With the help of stream we are able to reduce the number of lines of code from about 10 to 1.</p><p>But let’s take a closer look at both implementations, and try to understand the key difference and what’s really important.</p><p>The first implementation, we tell program how to iterate over our collection and how it should perform in each iteration. We call this Imperative Programming, in which you tell what to do.</p><p>The second implementation, we tell the program what we what to achieve, and the underlying implemenation will take care of the iteration logic. This is what we call declarative programming.</p><p>So what’s so good about writing code in a declarative way? </p><ul><li><p>It is more flexible - more adaptive to requirement changes</p><ul><li>if we want to filter apples by it’s price, without stream we will have to implement a new method which iterate over the collection of apples and filter them by price. </li><li>with stream we can simply replace the lambda express which define what we want to perform on this collection, e.g.<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Apple&gt; filteredApples = apples.stream().filter(e-&gt; e.price &gt; <span class="number">2.5</span>).collect(toList());</span><br></pre></td></tr></table></figure></li></ul></li><li><p>It is clearer and more consice </p></li><li>Is is more readable and hence easier to maintain</li></ul><p>Now let’s get back to the topic, what is Stream really? For starters, Streams are an update to the Java API that lets you manipulate collections of data in a declarative way (you express a query rather than code an ad hoc implementation for it), so for now you can think of them as fancy iterators over a collection of data.</p><p>Stream gives us the ability to write code that’s</p><ul><li><strong>Declarative</strong>— More concise and readable</li><li><strong>Composable</strong>— Greater flexibility</li><li><strong>Parallelizable</strong>— Better performance</li></ul><h2 id="Get-started-with-streams"><a href="#Get-started-with-streams" class="headerlink" title="Get started with streams"></a>Get started with streams</h2><p>Let’s look at a bit more complicated example, get the names of the first three dishes which calories is higher than 300. Take a look at the following code that’s implemented using Stream api.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; threeHighCaloricDishNames = menu.stream()</span><br><span class="line">.filter(e -&gt; e.getCalories &gt; <span class="number">300</span>)</span><br><span class="line">.map (Dish::getName)</span><br><span class="line">.limit(<span class="number">3</span>).</span><br><span class="line">.collect(toList());</span><br></pre></td></tr></table></figure><p>Imagine you have to implement this using external iteration (for loops), and compare to above implementation, you can already see the advantages of using streams. The code we’ve just written is very clear and descriptive, it tells us and the machine exactly what needs to be done, “find the names of the first 3 dishes which has calories higher than 300”. Rather than implementing the functionalities, we simply tell the program what needs to be done, and as a result, the program has more flexibility to decide how to optimize the pipeline processing. e.g. all the operation can be merged in to one and stop as soon as 3 matched dishes is found.</p><h3 id="Common-Stream-API"><a href="#Common-Stream-API" class="headerlink" title="Common Stream API"></a>Common Stream API</h3><p>The Stream interface defines many operations and they can be classified into two categories, namely intermediate operation and terminal operations</p><ul><li>Intermediate operation - any operation that returns a stream is a intermediate operation</li><li>Terminal operation - any operation that closes a stream is a terminal operation</li></ul><h4 id="Intermediate-operation"><a href="#Intermediate-operation" class="headerlink" title="Intermediate operation"></a>Intermediate operation</h4><ul><li>filter - expecting a predicate (take one arguement and return a boolean), filter out elements that does not match the predicate</li><li>map - extract </li><li>distinct</li><li>sorted</li><li>peek</li><li>limit</li></ul><h4 id="Intermediate-operation-1"><a href="#Intermediate-operation-1" class="headerlink" title="Intermediate operation"></a>Intermediate operation</h4><ul><li>forEach</li><li>reduce</li><li>count</li><li>anyMatch</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;What-is-stream&quot;&gt;&lt;a href=&quot;#What-is-stream&quot; class=&quot;headerlink&quot; title=&quot;What is stream&quot;&gt;&lt;/a&gt;What is stream&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Before we start, let’s image a scenario where you have a collection of apples and you want to filter them by their weight, and you only want to keep apples that are more than 100 grams, how would you do it? Before Java8 and Stream was introduced, you might write code like this to iterate over the collection and store the ones that match the condition to another list.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;Apple&amp;gt; &lt;span class=&quot;title&quot;&gt;filterByWeight&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(List&amp;lt;apple&amp;gt; apples, &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; weight)&lt;/span&gt;&lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    List&amp;lt;Apple&amp;gt; filteredApples = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (Apple apple : apples)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(apple.weight &amp;gt; weight)&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            filteredApples.add(apple);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; filteredApples;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Coding" scheme="https://winnerchen.github.io/categories/Coding/"/>
    
    
      <category term="java" scheme="https://winnerchen.github.io/tags/java/"/>
    
      <category term="java 8" scheme="https://winnerchen.github.io/tags/java-8/"/>
    
      <category term="stream" scheme="https://winnerchen.github.io/tags/stream/"/>
    
  </entry>
  
  <entry>
    <title>Teamcity quickstart</title>
    <link href="https://winnerchen.github.io/2018/01/20/Teamcity-quickstart/"/>
    <id>https://winnerchen.github.io/2018/01/20/Teamcity-quickstart/</id>
    <published>2018-01-19T23:01:30.000Z</published>
    <updated>2022-06-11T08:38:55.971Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Teamcity是由JetBrain公司开发的一个强大的持续集成工具，支持多个平台、环境和语言。在深入了解Teamcity之前，需要先了解持续集成（Continuous Integration）这个概念。<br>不熟悉的同学们请移步：</p><ul><li>百科定义：<a href="http://baike.baidu.com/view/5253255.htm" target="_blank" rel="noopener">http://baike.baidu.com/view/5253255.htm</a></li><li>网络文章：<a href="http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html</a></li></ul><a id="more"></a><h1 id="TeamCity入门"><a href="#TeamCity入门" class="headerlink" title="TeamCity入门"></a>TeamCity入门</h1><h2 id="TeamCity安装部署"><a href="#TeamCity安装部署" class="headerlink" title="TeamCity安装部署"></a>TeamCity安装部署</h2><p>略</p><h2 id="TeamCity相关配置"><a href="#TeamCity相关配置" class="headerlink" title="TeamCity相关配置"></a>TeamCity相关配置</h2><h3 id="添加项目"><a href="#添加项目" class="headerlink" title="添加项目"></a>添加项目</h3><p> 在主页点击右上角的Administration进当如下图所示的项目管理界面，然后点击Create Project。<br> <img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_2.png" alt><br>如下所示，进入添加项目界面后有多个添加项目的方式。本人所有项目都是从github上添加进来的。<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_3.png" alt><br>项目添加完毕之后可以对项目进行管理，配置构建程序。</p><h3 id="配置构建步骤"><a href="#配置构建步骤" class="headerlink" title="配置构建步骤"></a>配置构建步骤</h3><p>进入项目管理界面之后，在Build Configurations这一栏里找到Build Step。这里就是需要你配置自定义构建程序的地方了。由于teamcity支持maven，意味着可以直接在teamcity中运行所有maven的指令，这包括了clean,complie,deploy,install等等。还支持maven插件下的tomcat项目部署。<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_4.png" alt></p><p>点击edit进入下图，这个是构建步骤页面，在这里可以进行相关的配置<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_5.png" alt><br>Build Step页面如下图所示（核心配置）<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_6.png" alt></p><p>点击edit进入具体的每个构建步骤的详细配置，如下图所示。<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_7.png" alt></p><p>上面提到了Teamcity支持所有的maven指令，还包括maven的插件。这意味着我们可以通过maven来部署我们的项目。<br>上面那个构建步骤是编译和打包整个项目，下面则是如何部署项目相关的配置。详细配置如下图所示<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/teamcity_8.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;Teamcity是由JetBrain公司开发的一个强大的持续集成工具，支持多个平台、环境和语言。在深入了解Teamcity之前，需要先了解持续集成（Continuous Integration）这个概念。&lt;br&gt;不熟悉的同学们请移步：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;百科定义：&lt;a href=&quot;http://baike.baidu.com/view/5253255.htm&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://baike.baidu.com/view/5253255.htm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;网络文章：&lt;a href=&quot;http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Spring QuickStart</title>
    <link href="https://winnerchen.github.io/2017/10/19/Spring-Introduction/"/>
    <id>https://winnerchen.github.io/2017/10/19/Spring-Introduction/</id>
    <published>2017-10-19T07:37:02.000Z</published>
    <updated>2022-06-11T08:38:55.971Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><h2 id="1-1-What-is-Spring"><a href="#1-1-What-is-Spring" class="headerlink" title="1.1 What is Spring"></a>1.1 What is Spring</h2><p>The Spring Framework is an open-source application framework that is hierarchical, full-stack and lightweight.</p><h3 id="1-1-1-JavaEE-Hierarchy"><a href="#1-1-1-JavaEE-Hierarchy" class="headerlink" title="1.1.1 JavaEE Hierarchy"></a>1.1.1 JavaEE Hierarchy</h3><p>Three-layer structural system of JavaEE standard:</p><ul><li>Presentation Layer(display of webpage data, navigation and dispatch of webpage), e.g. Jsp/Servlet.</li><li>Business Logic Layer(business process, function logics and transaction control), e.g. service</li><li>Data Presistence Layer(data access and encapuslation, interaction with database), e.g. dao<a id="more"></a></li></ul><p>They are illustrated in below image.<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/spring_1.png" alt></p><h3 id="1-1-2-Full-Stack"><a href="#1-1-2-Full-Stack" class="headerlink" title="1.1.2 Full Stack:"></a>1.1.2 Full Stack:</h3><p>Spring Framework provides solutions for all JavaEE layers</p><ul><li>Presentation Layer: Struts2, SpringMVC</li><li>Business Logic Layer: IOC, AOP, Transaction control</li><li>Data Presistence Layer（JDBCTemplate, HibernateTemplate, ORM framework integration)</li></ul><h3 id="1-1-3-Lightweight"><a href="#1-1-3-Lightweight" class="headerlink" title="1.1.3 Lightweight:"></a>1.1.3 Lightweight:</h3><p>The introduction of Spring has replaced its previous framework, EJB, which is inefficient, cumbersome and complex.Not to mention that using Spring to program is non-invasive.</p><h2 id="1-2-System-Architecture-of-Spring"><a href="#1-2-System-Architecture-of-Spring" class="headerlink" title="1.2 System Architecture of Spring"></a>1.2 System Architecture of Spring</h2><p>The Spring framework is a hierarchical architecture that contains a set of functional elements and  is divided into about 20 modules. These modules are Core Container, Data Access/Integration, WEB, AOP(Aspect Oriented Programming), Instrumentation and testing part, as shown in below figure:<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/spring_2.png" alt></p><h3 id="1-2-1-Core-Container"><a href="#1-2-1-Core-Container" class="headerlink" title="1.2.1 Core Container"></a>1.2.1 Core Container</h3><ul><li>It includes 4 modules: <font color="red">Core, Beans, Context and Express Language</font></li><li><font color="red">Core and Beans module</font> provide the most fundamental functions of Spring: IoC(Inversion of control) and DI(Dependency Injection). The basic concept here is BeanFactory, which provides a classic implementation of the Factory pattern to eliminate the need for singleton patterns and utimately allows you to separate dependencies and configurations from program logic.</li><li>The <font color="red">Context module</font> is built on Core and Beans module, which provides the function of accessing to objects in a framework style. The Context wrapper inherits the functionality of beans package, which also includes internationalization(I18N), event propagation, resource loading, and transparent construct contexts, as well as support for a large number of JavaEE features such as EJB and JMX. It’s core interface is ApplicationContext. </li><li>The <font color="red">Expression Language module</font> provides the ability to query and manipulate object graphs during runtime. It supports access and modification for attribute values, arrays, containers and indexers. It also provides support for arithmetic and logical operations, list projections, selection and general list aggregation, as well as support for object access from Spring container. </li></ul><h3 id="1-2-2-Data-Access-Integration"><a href="#1-2-2-Data-Access-Integration" class="headerlink" title="1.2.2 Data Access/Integration"></a>1.2.2 Data Access/Integration</h3><ul><li><font color="red">JDBC module</font> provides an abstraction of JDBC that eliminates the lengthy JDBC encoding and parsing database vendor-specific error code.</li><li><font color="red">ORM module</font> provides an integrated layer of commonly used “object / relational” mapping APIs, including JPA, JDO, Hibernate and iBatis. With the ORM package, you can mix all the features provided by Spring to support “object/relation”mappings, such as simple declarative transaction management.</li><li><font color="red">Jms module</font> provides a set of “message producer/consumer” template to simplify the use of Jms. JMS is employed between two applications, or sending message in distributive system to implement asynchronous communication. </li><li><font color="red">Transaction module</font> provides support for simple declarative transaction management. Objects that are managed by Spring can all benefit from Spring transaction management, even it is a POJO e.g. Spring can also provide transaction control to POJO.</li></ul><h3 id="1-2-3-Web"><a href="#1-2-3-Web" class="headerlink" title="1.2.3 Web"></a>1.2.3 Web</h3><ul><li><font color="red">Web module</font> provides fundamental web functions, such as multi-file upload, integration of IoC container, remote process access, and support for Web Service. It also provides a RestTemplate class to improve the convenience of Restful services access.</li><li><font color="red">Web-Servlet module</font> provides a Model-View-Controller (MVC) implementation for Web applications. The Spring MVC framework provides annotation-based request resource injection, simpler data binding, data validation, and a set of easy-to-use JSP tags that work seamlessly with other Spring technologies.</li><li><font color="red">Web-Struts module</font> provides support for Struts integration, this feature is not recommended in the Spring3.0, it is recommended that you should transfer to Struts2.0 or Spring MVC.</li><li><font color="red">Web-Protlet module</font> provides the implementation under Portlet environment.</li></ul><h3 id="1-2-4-AOP"><a href="#1-2-4-AOP" class="headerlink" title="1.2.4 AOP"></a>1.2.4 AOP</h3><ul><li>The <font color="red">AOP module</font> provides an aspect-oriented programming implementation that conforms to the AOP alliance specification so that you can define method interceptors and cutting points. Logically, it can reduce the code coupling so that functions be clearly separated. Moreover, the use of source-level metadata function, you can also combine a variety of behavioral information into your code.</li><li>The <font color="red">Aspect module</font> provides integration for AspectJ</li><li>The <font color="red">Instrumentation module</font> provides tool support for class-level and implementation for ClassLoader-level that can be used in some specific application servers.</li></ul><h3 id="1-2-5-Test"><a href="#1-2-5-Test" class="headerlink" title="1.2.5 Test"></a>1.2.5 Test</h3><ul><li>The <font color="red">Test module</font> provides support for testing Spring components using JUnit and TestNG, which provide consistent ApplicationContexts to cache these contexts. It also provides some mock objects that allow you to test your code independently.</li></ul><h2 id="1-3-The-core-of-Spring"><a href="#1-3-The-core-of-Spring" class="headerlink" title="1.3 The core of Spring"></a>1.3 The core of Spring</h2><ul><li>IoC(Inversion of control): Handover the management of objects to Spring factory.</li><li>AOP(Aspect Oriented Programming): Functional enhancement based on dynamic proxy</li></ul><h2 id="1-4-The-advantages-of-Spring"><a href="#1-4-The-advantages-of-Spring" class="headerlink" title="1.4 The advantages of Spring"></a>1.4 The advantages of Spring</h2><p>The introduction of Spring aims to solve the practical issues of JavaEE:</p><ul><li>Remove dependency and simplify development<ul><li>Spring is a large factory that can manage the creation and dependency maintenance of any objects</li></ul></li><li>Support for AOP<ul><li>Spring provides support for AOP, which can easily implement functions such as access control, runtime monitoring, logging and etc.</li></ul></li><li>Support for declarative transaction control<ul><li>Implement the management of transaction by configuration file, without manual program.</li></ul></li><li>More convenient program testing<ul><li>Spring provides support for JUnit4, which allows us to test Spring program conveniently by annotation.</li></ul></li><li>Provide integration for a variety of excellent frameworks<ul><li>Spring does not exclude other well designed open source framework. It provides direct support for other excellent framework such as Struts2, Hibernate, MyBatis, Quartz, etc.</li></ul></li><li>Reduce the complexity of using JavaEE API<ul><li>Spring provides encapsulation for APIs that are difficult to use during JavaEE development, such as JDBC, JavaMail, remote method invocation, etc. </li></ul></li></ul><h1 id="2-Spring-IoC-quick-start"><a href="#2-Spring-IoC-quick-start" class="headerlink" title="2. Spring IoC quick start"></a>2. Spring IoC quick start</h1><p>Basic development procedure of Spring core context</p><ul><li>Download development package, import jar</li><li>Coding</li><li>Write configuration file</li></ul><h2 id="2-1-Coding"><a href="#2-1-Coding" class="headerlink" title="2.1 Coding"></a>2.1 Coding</h2><h3 id="2-1-1-Traditional-Business-logic-coding-business-layer-data-persistence-layer"><a href="#2-1-1-Traditional-Business-logic-coding-business-layer-data-persistence-layer" class="headerlink" title="2.1.1 Traditional Business logic coding (business layer, data persistence layer)"></a>2.1.1 Traditional Business logic coding (business layer, data persistence layer)</h3><p>The example I use here is simulation of user login operation</p><ol><li><p>Create interface IUserDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserDao</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//query data from database according to username and password</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findByUsernameAndPassword</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create implementation class of interface IUserDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Implementation class of dao</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">IUserDao</span> </span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findByUsernameAndPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"function findUserByUsernameAndPassword of UserDaoImpl has been called..."</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create interface IUserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//business layer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserService</span> </span>&#123;</span><br><span class="line"><span class="comment">//login</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Create implementation class of interface IUserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Business layer implementation</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">IUserService</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"UserServiceImpl_login function has been called..."</span>);</span><br><span class="line"><span class="comment">//instantiate dao</span></span><br><span class="line">IUserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line">userDao.findByUsernameAndPassword();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Test</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringTest</span> </span>&#123;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//create service instance</span></span><br><span class="line">IUserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">userService.login();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>Console:<br><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/spring_3.png" alt></p><p>In the example above, we are instantiating UserDaoImpl in UserServiceImpl class, which mean this class directly depends on UserDaoImpl class.This would cause many issues, e.g. error would occur if we want to change the implementation class, or rename the implementation class. It means that we will have to modify original code.</p><p>Solution: Inversion of Control</p><h2 id="2-2-Implementation-of-IoC"><a href="#2-2-Implementation-of-IoC" class="headerlink" title="2.2 Implementation of IoC"></a>2.2 Implementation of IoC</h2><p>Using IoC (Inverse of Control) to solve the problem of code coupling. In one word, we introduce facotry that manage the object relations instead of manually create dependencies.</p><ol><li><p>Create a factory that provide userDao instance<br>UserDaoFactory.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDAOFactory</span> </span>&#123;</span><br><span class="line"><span class="comment">//provide function to get object</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> UserDAOImpl <span class="title">getUserDAO</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//return this instance</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span>  UserDAOImpl ();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Modify the code in UserServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">IUserService</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> System.out.println(<span class="string">"UserServiceImpl_login function has been called..."</span>);</span><br><span class="line"> <span class="comment">//Create factory, get dependency from it</span></span><br><span class="line"> UserDAOFactory userDAOFactory = <span class="keyword">new</span> UserDAOFactory();</span><br><span class="line"> UserDAOImpl userDAO = userDAOFactory.getUserDAO();</span><br><span class="line"> userDAO.findUserByUsernameAndPassword();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>Above method does solve code coupling between these two class. However, the function in factory class still requires a specific instance. The solution here is reflection.</p><p>Solution: Create instance of object by reflection, which pass in a string that specify the dependency class</p><p>UserDAOFactory.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getBean</span><span class="params">()</span></span>&#123;</span><br><span class="line">Object bean = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">bean = Class.forName(<span class="string">"yiheng.chen.spring.a_quickstart.UserDAOImpl"</span>).newInstance();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//return the instance</span></span><br><span class="line"><span class="keyword">return</span> bean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>UserServiceImpl.java:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IUserDAO userDAO = (IUserDAO) userDAOFactory.getBean();</span><br><span class="line">userDAO.findUserByUsernameAndPassword();</span><br></pre></td></tr></table></figure></p><p>Let’s think,above solution use a fixed string to create instance, so how can we dynamically pass in different string?</p><p>The solution is XML  configuration file</p><p>It comes to an end that the IoC underlying implementation is a combination of <font color="red">factory(design pattern), reflection(mechanism)</font>,and  <font color="red">configuration file(XML)</font>.</p><h2 id="2-3-Obtain-Bean-objects-from-Spring-factory"><a href="#2-3-Obtain-Bean-objects-from-Spring-factory" class="headerlink" title="2.3 Obtain Bean objects from Spring factory"></a>2.3 Obtain Bean objects from Spring factory</h2><ol><li><p>Configure applicationContext.xml</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"</span></span><br><span class="line"><span class="string">http://www.springframework.org/schema/beans </span></span><br><span class="line"><span class="string">http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id=<span class="string">"userDAO"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.a_quickstart.UserDAOImpl"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></li><li><p>Modify the code in UserServiceImpl class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Create Spring factory, load Spring configuration file</span></span><br><span class="line"> ApplicationContext ac = <span class="keyword">new</span>   ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"> IUserDAO userDAO = (IUserDAO) ac.getBean(<span class="string">"userDAO"</span>);</span><br><span class="line"> userDAO.findUserByUsernameAndPassword();</span><br></pre></td></tr></table></figure></li></ol><h2 id="2-4-Implementation-of-DI"><a href="#2-4-Implementation-of-DI" class="headerlink" title="2.4 Implementation of DI"></a>2.4 Implementation of DI</h2><p>DI(Dependency Injection): When Spring framework is creating Bean object, it injects dependencies into bean components. </p><ol><li><p>Configure applicationContext.xml</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"</span></span><br><span class="line"><span class="string">http://www.springframework.org/schema/beans </span></span><br><span class="line"><span class="string">http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id=<span class="string">"userDAO"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.a_quickstart.UserDAOImpl"</span> /&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id =<span class="string">"userService"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.a_quickstart.UserServiceImpl"</span>&gt;</span><br><span class="line">&lt;!-- Inject object --&gt;</span><br><span class="line">&lt;!-- property inject dependency based on the setter function of the <span class="class"><span class="keyword">class</span> --&gt;</span></span><br><span class="line">&lt;!-- ref: the object that it is refer to, its values is the id/name of that bean --&gt;</span><br><span class="line">&lt;property name=<span class="string">"userDAO"</span> ref=<span class="string">"userDAO"</span> /&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure></li><li><p>Provide setter function<br>UserServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">IUserService</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//define attribute</span></span><br><span class="line"><span class="keyword">private</span> IUserDAO userDAO;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDAO</span><span class="params">(IUserDAO userDAO)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.userDAO = userDAO;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">login</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> System.out.println(<span class="string">"UserServiceImpl-service层方法调用了"</span>);</span><br><span class="line"> </span><br><span class="line"> userDAO.findUserByUsernameAndPassword();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Run test(the object must be obtained from Spring factory. Object that is mannually instantiated has no dependency injection)</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringTest</span> </span>&#123;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">ApplicationContext ac = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">IUserService userService = (IUserService) ac.getBean(<span class="string">"userService"</span>);</span><br><span class="line"></span><br><span class="line">userService.login();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-5-Spring-Factory"><a href="#2-5-Spring-Factory" class="headerlink" title="2.5 Spring Factory"></a>2.5 Spring Factory</h2><p>ApplicationContext is used to load Spring framework configuration file, to create Spring factory object. It is also known as Spring container.</p><p><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/spring_4.png" alt></p><p>Why don’t we just use the top interface to operate?</p><ul><li>BeanFactory uses lazy load strategy, it initialize bean after user first call getBean function.</li><li>ApplicationContext is an extension of BeanFactory which provides more functions.<ul><li>Internationalization(I18N)</li><li>Event propagation</li><li>Bean autowire</li><li>Context implementation of different application layer</li></ul></li></ul><p>Since ApplicationContext is much more powerful, it is rare to see BeanFactory used in development.</p><p>PS. There is a difference between BeanFactory and FactoryBean. We will discuss it later.</p><p>There are two ways of obtaining beans from IoC container</p><ul><li>by its id/name </li><li>by the its class or the class of its interface</li></ul><h1 id="3-Assemble-bean-in-IoC-container"><a href="#3-Assemble-bean-in-IoC-container" class="headerlink" title="3. Assemble bean in IoC container"></a>3. Assemble bean in IoC container</h1><h2 id="3-1-Four-ways-of-instantiating-Bean"><a href="#3-1-Four-ways-of-instantiating-Bean" class="headerlink" title="3.1 Four ways of instantiating Bean"></a>3.1 Four ways of instantiating Bean</h2><ul><li>Use default constructor(most common)</li><li>Static factory method<ol><li>Define bean class</li><li>Define factory Class and write static function to return the bean</li><li>Configure applicationContext.xml, specify class and factory-method</li></ol></li><li>Instance factory method<ol><li>Define bean</li><li>Define factory class and write non-static function to return the bean</li><li>Configure applicationContext.xml, specify class of the factory, and factory-method and factory-bean of that bean </li></ol></li><li>FactoryBean<ol><li>Define bean</li><li>Create MyFactoryBean class and implement FactoryBean interface</li><li>Configure applicationContext.xm</li></ol></li></ul><p>What is the difference between FactoryBean and BeanFactory?</p><ul><li>BeanFactory is a factory, it actually create the environment for Spring context. it is used to manage bean instance.</li><li>FactoryBean is a tool which generates beans. It is a bean that we use to obtain a specific type of object. It is one way to instantiate bean instance.</li></ul><h2 id="3-2-Scope-of-Bean"><a href="#3-2-Scope-of-Bean" class="headerlink" title="3.2 Scope of Bean"></a>3.2 Scope of Bean</h2><p><img src="https://raw.githubusercontent.com/winnerchen/yiheng.github.io/master/images/spring_5.png" alt></p><p>We normally use <font color="red">Singleton</font> and  <font color="red">Prototype</font> in the project development.</p><h2 id="3-3-The-life-cycle-of-bean"><a href="#3-3-The-life-cycle-of-bean" class="headerlink" title="3.3 The life cycle of bean"></a>3.3 The life cycle of bean</h2><p>We are able to control the life cycle of bean through Spring factory</p><h3 id="3-3-1-Configure-init-and-destory-function-of-bean"><a href="#3-3-1-Configure-init-and-destory-function-of-bean" class="headerlink" title="3.3.1 Configure init and destory function of bean"></a>3.3.1 Configure init and destory function of bean</h3><ul><li>Specify the function that will be invoked after instantiation by specifying init-method</li><li>Specify the function that will be invoked after the object is destory by specifying destory-method</li></ul><p>Steps:</p><ol><li><p>Create LifeCycleBean, specify an init function and a destory function</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LifeCycleBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//define constructor</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">LifeCycleBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"LifeCycleBean constructor is called"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"LifeCycleBean-init, called after instantiation"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"LifeCycleBean-destroy called when object is destory"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Configure applicationContext.xml</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"lifeCycleBean"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.d_xmllifecycle.LifeCycleBean"</span> init-method=<span class="string">"init"</span> destroy-method=<span class="string">"destroy"</span> /&gt;</span><br></pre></td></tr></table></figure></li></ol><h2 id="3-4-Dependency-injection-of-bean-attribute"><a href="#3-4-Dependency-injection-of-bean-attribute" class="headerlink" title="3.4 Dependency injection of bean attribute"></a>3.4 Dependency injection of bean attribute</h2><p>What is attribute injection of bean? It means assigning values to the attributes of an object.</p><p>There are two ways of doing that:</p><ul><li>by passing the parameters in the constructor</li><li>by using setter function</li></ul><h3 id="3-4-1-Attribute-injection-by-constructor"><a href="#3-4-1-Attribute-injection-by-constructor" class="headerlink" title="3.4.1 Attribute injection by constructor"></a>3.4.1 Attribute injection by constructor</h3><ol><li><p>Define bean and its constructor </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> Integer id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Double price;</span><br><span class="line"><span class="comment">//Constructor with arguements</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Car</span><span class="params">(Integer id, String name, Double price)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.id = id;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.price = price;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Car [id="</span> + id + <span class="string">", name="</span> + name + <span class="string">", price="</span> + price + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Configure applicationContext.xml</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- use constructor to inject values into attributes--&gt;</span><br><span class="line">&lt;bean id=<span class="string">"car"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.e_xmlpropertydi.Car"</span>&gt;</span><br><span class="line">&lt;!--constructor-arg：indicate that we are using constructor with arguements instead of the <span class="keyword">default</span> one</span><br><span class="line"><span class="keyword">new</span> Car(<span class="number">1</span>,<span class="string">"BMW"</span>,<span class="number">99999</span>d)</span><br><span class="line"><span class="number">1</span>st group of parameters：locate attribute</span><br><span class="line">    * index:locate attribute by index，<span class="number">0</span> means the first one</span><br><span class="line">* name：locate attribute by its name</span><br><span class="line">* type:locate attribute by its data type </span><br><span class="line"><span class="number">2</span>nd group of paramters：values</span><br><span class="line">* value:simple values, strings</span><br><span class="line">* ref: bean objects that are created by spring containter</span><br><span class="line">--&gt;</span><br><span class="line">&lt;!-- &lt;constructor-arg index=<span class="string">"0"</span> value=<span class="string">"1"</span>/&gt; --&gt;</span><br><span class="line">&lt;constructor-arg index=<span class="string">"0"</span> name=<span class="string">"id"</span> value=<span class="string">"1"</span>/&gt;</span><br><span class="line">&lt;!-- &lt;constructor-arg name=<span class="string">"name"</span> value=<span class="string">"BMW_X3"</span>/&gt; --&gt;</span><br><span class="line">&lt;constructor-arg name=<span class="string">"name"</span> &gt;</span><br><span class="line">&lt;value&gt;BMW_X6&lt;/value&gt;</span><br><span class="line">&lt;/constructor-arg&gt;</span><br><span class="line">&lt;constructor-arg type=<span class="string">"java.lang.Double"</span> value=<span class="string">"99999d"</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-4-2-Attribute-injection-by-setter"><a href="#3-4-2-Attribute-injection-by-setter" class="headerlink" title="3.4.2 Attribute injection by setter"></a>3.4.2 Attribute injection by setter</h3><p>It uses the default constructor, however it must be provided by setter function. This method is commonly used in enterprise Java development</p><ol><li><p>Create java bean, define attributes</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> Integer id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> Car car;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCar</span><span class="params">(Car car)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.car = car;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Person [id="</span> + id + <span class="string">", name="</span> + name + <span class="string">", car="</span> + car + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Configure Spring container</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"person"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"yiheng.chen.spring.e_xmlpropertydi.Person"</span>&gt;</span><br><span class="line">&lt;property name=<span class="string">"id"</span> value=<span class="string">"1001"</span>/&gt;</span><br><span class="line">&lt;property name=<span class="string">"name"</span> value=<span class="string">"Tom"</span>/&gt;</span><br><span class="line">&lt;property name=<span class="string">"car"</span> ref=<span class="string">"car"</span>/&gt; </span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-Introduction&quot;&gt;&lt;a href=&quot;#1-Introduction&quot; class=&quot;headerlink&quot; title=&quot;1. Introduction&quot;&gt;&lt;/a&gt;1. Introduction&lt;/h1&gt;&lt;h2 id=&quot;1-1-What-is-Spring&quot;&gt;&lt;a href=&quot;#1-1-What-is-Spring&quot; class=&quot;headerlink&quot; title=&quot;1.1 What is Spring&quot;&gt;&lt;/a&gt;1.1 What is Spring&lt;/h2&gt;&lt;p&gt;The Spring Framework is an open-source application framework that is hierarchical, full-stack and lightweight.&lt;/p&gt;
&lt;h3 id=&quot;1-1-1-JavaEE-Hierarchy&quot;&gt;&lt;a href=&quot;#1-1-1-JavaEE-Hierarchy&quot; class=&quot;headerlink&quot; title=&quot;1.1.1 JavaEE Hierarchy&quot;&gt;&lt;/a&gt;1.1.1 JavaEE Hierarchy&lt;/h3&gt;&lt;p&gt;Three-layer structural system of JavaEE standard:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Presentation Layer(display of webpage data, navigation and dispatch of webpage), e.g. Jsp/Servlet.&lt;/li&gt;
&lt;li&gt;Business Logic Layer(business process, function logics and transaction control), e.g. service&lt;/li&gt;
&lt;li&gt;Data Presistence Layer(data access and encapuslation, interaction with database), e.g. dao
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Implement your own HashMap</title>
    <link href="https://winnerchen.github.io/2017/09/05/Implement-your-own-hashmap/"/>
    <id>https://winnerchen.github.io/2017/09/05/Implement-your-own-hashmap/</id>
    <published>2017-09-05T04:37:44.000Z</published>
    <updated>2022-06-11T08:38:55.970Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h1><p>As one of the important members of data structure in Java, HashMap has high performance in both insertion and query. Recently, I have learnt to know its power when I was working on the project. HashMap provides both high flexibility and scalability for font and back end data interactions that cannot be replaced by other data structures. Its key-value pair structure naturally provides good support for Json transformation. This article mainly analysis the theory of HashMap and how to implement your own HashMap.<br><a id="more"></a></p><h1 id="2-Theory-of-HashMap"><a href="#2-Theory-of-HashMap" class="headerlink" title="2. Theory of HashMap"></a>2. Theory of HashMap</h1><h2 id="2-1-What-is-HashMap？"><a href="#2-1-What-is-HashMap？" class="headerlink" title="2.1 What is HashMap？"></a>2.1 What is HashMap？</h2><p>In computing, a hash table (hash map) is a data structure which implements an associative array abstract data type, a structure that can map keys to values. A hash table uses a hash function to compute an index into an array of buckets or slots, from which the desired value can be found. – From Wikipedia, the free encyclopedia</p><h2 id="2-2-What-is-hash"><a href="#2-2-What-is-hash" class="headerlink" title="2.2 What is hash"></a>2.2 What is hash</h2><p>Hash is an algorithm, which can map a binary value with random length to a binary value with fixed length. In a HashMap, hash algorithm is mainly used to calculate the index that its value needs to be stored in. In one word, the storage process of a value is based on the hash value of its key.</p><p>The performance of a hash algorithm depends on whether it can store data into an array with good distribution so that collisions can be avoided. </p><p>There are many hash functions existed, and I will take division method as an example. First, define the length of an array, 16 for example (16 is also the default length of HashMap in JDK). Therefore, the index should be key mod m, and the value of m should be the maximum prime number that is less than the length of the array.m is therefore is 13 in this case. Such algorithm would lead to situation like this: we might get same index for different given keys. If that’s the case, we need to handle collisions. </p><p>Ps. The hash algorithm in JDK is much more complicated. The example above is just an example for readers to understand more easily. </p><h2 id="2-3-Handling-collisions"><a href="#2-3-Handling-collisions" class="headerlink" title="2.3 Handling collisions"></a>2.3 Handling collisions</h2><p>There are many solutions to handle collisions, and in this article I will introduce two methods and I will demonstrate how to solve this issue with one of them.</p><ul><li>Linear Probing<br>When collision happens, find whether next index has been occupied or not, if not then store data into that index. If it is already occupied, repeat previous process until it finds a slot.</li><li>Linked list<br>Since data is stored in the form of entry object in HashMap, and an entry contains key, value and next pointer. Therefore we can handle collisions using LinkedList form, that is taking out the original data in this slot and place new data into it and then set the next pointer to the original data, which means the head of the this linkedlist is always the latest data. </li></ul><h1 id="3-Implement-your-HashMap"><a href="#3-Implement-your-HashMap" class="headerlink" title="3. Implement your HashMap"></a>3. Implement your HashMap</h1><h2 id="3-1-Map-Interface"><a href="#3-1-Map-Interface" class="headerlink" title="3.1 Map Interface"></a>3.1 Map Interface</h2><p>The top interface of HashMap is Map, which means we need our own interface if we want to implement our own map. The map interface of our HashMap is defined as MyMap&lt;K,V&gt; and it should have these three functions:</p><ul><li>put(K k,V v)</li><li>get(K k)</li><li>size()</li></ul><p>and an internal interface</p><ul><li>Entry&lt;K,V&gt;</li></ul><p>It should contains two functions</p><ul><li>getKey()</li><li>getValue()</li></ul><p>Java code:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * put function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> v</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">put</span><span class="params">(K k, V v)</span></span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * get function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">get</span><span class="params">(K k)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Entry interface</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;K&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;V&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt;</span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * get the key in an entry object</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function">K <span class="title">getKey</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * get the value in an entry object</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function">V <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-2-Implementation-of-internal-class-Entry"><a href="#3-2-Implementation-of-internal-class-Entry" class="headerlink" title="3.2 Implementation of internal class Entry"></a>3.2 Implementation of internal class Entry</h2><p>Once the interface is designed, we need to create a class to implement all its functions. The class MyHashMap is created to implement MyMap interface.</p><p>An internal class is also necessary for the implementation of internal interface of MyMap. The instance of this internal class is entry, which will be stored into the array. This class should have three global variables, which are K, V and Next pointer. The type of next is entry itself because it points to the next entry object.</p><p>Java code:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; <span class="keyword">implements</span>  <span class="title">MyMap</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">        K k;</span><br><span class="line">        </span><br><span class="line">        V v;</span><br><span class="line">        </span><br><span class="line">        Entry&lt;K, V&gt; next;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Entry</span><span class="params">(K k, V v, Entry next)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.k = k;</span><br><span class="line">            <span class="keyword">this</span>.v = v;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> k;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-3-Define-global-variables"><a href="#3-3-Define-global-variables" class="headerlink" title="3.3 Define global variables"></a>3.3 Define global variables</h2><p>A hashmap contains the following global variables:</p><ul><li>default length of the array</li><li>default loading factor</li><li>an entry array</li><li>the size of this hashmap</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Default length of the array, initial value is 16</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> defaultLength = <span class="number">16</span>;</span><br><span class="line"><span class="comment">//Loading factor, 0.75 by default</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> defaultLoader = <span class="number">0.75</span>;</span><br><span class="line"><span class="comment">//Entry array</span></span><br><span class="line"><span class="keyword">private</span> Entry&lt;K, V&gt;[] table = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//The size of this hashmap</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> size = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="3-4-Define-constructor"><a href="#3-4-Define-constructor" class="headerlink" title="3.4 Define constructor"></a>3.4 Define constructor</h2><p>Since the default length and default loading factor can be customized in HashMap, we can define a constructor with array length and loading factor as parameters.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * customize default array length and loading factor</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> length</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> loader</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyHashMap</span><span class="params">(<span class="keyword">int</span> length, <span class="keyword">double</span> loader)</span> </span>&#123;</span><br><span class="line">    defaultLength = length;</span><br><span class="line">    defaultLoader = loader;</span><br><span class="line">    <span class="comment">//initialize entry array</span></span><br><span class="line">    table = <span class="keyword">new</span> Entry[defaultLength];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>If parameters are not specified, we use default value<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * use default values</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyHashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(defaultLength, defaultLoader);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-5-Define-hash-function"><a href="#3-5-Define-hash-function" class="headerlink" title="3.5 Define hash function"></a>3.5 Define hash function</h2><p>It is mentioned above that we are using mod method for our hash function. First define an int m, the value of m should be the maximum prime number that is less than the length of its array. I set the value of m to be the length of the array to simplify the algorithm.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * customize hash algorithm</span></span><br><span class="line"><span class="comment"> * get the value of index from the hash value of its key, it is the index in which data needs to be stored</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getKey</span><span class="params">(K k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = defaultLength;</span><br><span class="line">    <span class="keyword">int</span> index = k.hashCode() % m;</span><br><span class="line">    <span class="keyword">return</span> index &gt;= <span class="number">0</span> ? index : -index;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-6-Implement-put-function"><a href="#3-6-Implement-put-function" class="headerlink" title="3.6 Implement put function"></a>3.6 Implement put function</h2><p>First, we need calculate the index of the array using hash algorithm, and then store the entry object that contains key, value and next pointer to that slot.</p><p>Before we do that we need to determine if that slot is occupied. It should be handled differently according to the situation. Detailed explanations are given in the comments.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K k, V v)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//calculate the index of a given key</span></span><br><span class="line">        <span class="keyword">int</span> index = getKey(k);</span><br><span class="line">        Entry&lt;K, V&gt; entry = table[index];</span><br><span class="line">        <span class="comment">//determine if entry is null</span></span><br><span class="line">        <span class="keyword">if</span> (entry == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            * if entry is null, it means there is no data in this slot</span></span><br><span class="line"><span class="comment">            * create an entry object</span></span><br><span class="line"><span class="comment">            * next pointer has no value at this moment because there is only</span></span><br><span class="line"><span class="comment">            * one entry object in this slot</span></span><br><span class="line"><span class="comment">            * */</span></span><br><span class="line">            table[index] = <span class="keyword">new</span> Entry(k, v, <span class="keyword">null</span>);</span><br><span class="line">            <span class="comment">//size of map + 1</span></span><br><span class="line">            size++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            * if entry is not null, it means there is at least one entry in</span></span><br><span class="line"><span class="comment">            * this slot</span></span><br><span class="line"><span class="comment">            * create an entry object</span></span><br><span class="line"><span class="comment">            * set the next pointer to be previous entry and replace the data</span></span><br><span class="line"><span class="comment">            * in the array</span></span><br><span class="line"><span class="comment">            * */</span></span><br><span class="line">            table[index] = <span class="keyword">new</span> Entry&lt;K, V&gt;(k, v, entry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> table[index].getValue();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-7-Implement-resize-mechanism-of-HashMap"><a href="#3-7-Implement-resize-mechanism-of-HashMap" class="headerlink" title="3.7 Implement resize mechanism of HashMap"></a>3.7 Implement resize mechanism of HashMap</h2><p>The principle of resize in hashmap is that when the size of map is greater than default length * loading factor, the length of the array will be doubled and data in the array will be rehashed and restored. Therefore, in previous put function, we need to first determine if the size of hashmap has reach the boundary of resize, and then execute rest of the code. </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resize of the array</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">expand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//create an entry array that its length is two times as previous</span></span><br><span class="line">    Entry&lt;K, V&gt;[] newTable = <span class="keyword">new</span> Entry[<span class="number">2</span> * defaultLength];</span><br><span class="line">    <span class="comment">//call rehash function</span></span><br><span class="line">    rehash(newTable);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//the process of rehash</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">rehash</span><span class="params">(Entry&lt;K,V&gt;[] newTable)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//create a list to store all the entry objects in the hashmap</span></span><br><span class="line">    List&lt;Entry&lt;K, V&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;Entry&lt;K, V&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//traverse the array</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;table.length;i++) &#123;</span><br><span class="line">        <span class="comment">//continue if the given slot has no data</span></span><br><span class="line">        <span class="keyword">if</span> (table[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//store all entries into the list using recursive method</span></span><br><span class="line">        findEntryByNext(table[i],list);</span><br><span class="line">        <span class="keyword">if</span> (list.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//reset size</span></span><br><span class="line">            size = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//double the default size</span></span><br><span class="line">            defaultLength = <span class="number">2</span> * defaultLength;</span><br><span class="line"></span><br><span class="line">            table = newTable;</span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;K, V&gt; entry : list) &#123;</span><br><span class="line">                <span class="keyword">if</span> (entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">//set next pointer of all entries to null</span></span><br><span class="line">                    entry.next = <span class="keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//rehash new table</span></span><br><span class="line">                put(entry.getKey(), entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findEntryByNext</span><span class="params">(Entry&lt;K, V&gt; entry,List&lt;Entry&lt;K, V&gt;&gt; list )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (entry != <span class="keyword">null</span> &amp;&amp; entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        list.add(entry);</span><br><span class="line">        <span class="comment">//call recursive function</span></span><br><span class="line">        findEntryByNext(entry.next,list);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        list.add(entry);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-8-Implement-get-function"><a href="#3-8-Implement-get-function" class="headerlink" title="3.8 Implement get function"></a>3.8 Implement get function</h2><p>As it is mentioned above, the nature of hash algorithm might lead to the scenario that multiple entries stored in the same index. Therefore, we need to find the real entry object by comparing the key value.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//get the index that the entry is stored</span></span><br><span class="line">    <span class="keyword">int</span> index = getKey(k);</span><br><span class="line">    <span class="comment">//non-empty check</span></span><br><span class="line">    <span class="keyword">if</span> (table[index] == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//call function to find the real value and then return</span></span><br><span class="line">    <span class="keyword">return</span> findValueByEqualKey(k,table[index]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * find real value by recursive comparison</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> entry</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">findValueByEqualKey</span><span class="params">(K k , Entry&lt;K,V&gt; entry)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * if key of this parameter equals to the key of this entry, that means</span></span><br><span class="line"><span class="comment">    * this is the target entry</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">if</span> (k == entry.getKey() || k.equals(entry.getKey())) &#123;</span><br><span class="line">        <span class="keyword">return</span> entry.getValue();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * if they are not equal, use recursive method to compare the key of its next pointer to find the real value</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="keyword">if</span> (entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> findValueByEqualKey(k, entry.next);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> entry.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Since the size function is rather easy, all we need to do is return the variable size, I just paste the code here.<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//return the size of the map</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>At this point, the basic function of a HashMap is completed. That includes put function, get function and its resize mechanism. In the next section, I will write a test class to test the code see if they are implemented correctly. In the meantime, its performacne needs to be tested as well.</p><h1 id="4-Test-MyHashMap"><a href="#4-Test-MyHashMap" class="headerlink" title="4. Test MyHashMap"></a>4. Test MyHashMap</h1><h2 id="4-1-Output-test"><a href="#4-1-Output-test" class="headerlink" title="4.1 Output test"></a>4.1 Output test</h2><p>Write a test class to check if the output of our HashMap and the output of HashMap in JDK are the same.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Yiheng Chen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: Map test class</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: Created in 4:33 2017/9/1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Modified</span> by:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMapTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        MyHashMap&lt;String,String &gt; map = <span class="keyword">new</span> MyHashMap();</span><br><span class="line"></span><br><span class="line">        Long t1 = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">            map.put(<span class="string">"key"</span> + i, <span class="string">"value"</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">"key: "</span> + <span class="string">"key"</span> + i +<span class="string">"---"</span>+ <span class="string">"value: "</span> + map.get(<span class="string">"key"</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line">        Long t2 = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"time consumed by MyHashMap："</span>+(t2-t1));</span><br><span class="line">        System.out.println(<span class="string">"-------------------HashMap-------------------------"</span> );</span><br><span class="line"></span><br><span class="line">        Map&lt;String,String &gt; hashMap = <span class="keyword">new</span> HashMap();</span><br><span class="line"></span><br><span class="line">        Long t3 = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">            hashMap.put(<span class="string">"key"</span> + i, <span class="string">"value"</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">"key: "</span> + <span class="string">"key"</span> + i + <span class="string">"---"</span>+ <span class="string">"value: "</span> + hashMap.get(<span class="string">"key"</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line">        Long t4 = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"time consumed by HashMap in JDK: "</span>+(t4-t3));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Part of the output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">key: key980---value: value980</span><br><span class="line">key: key981---value: value981</span><br><span class="line">key: key982---value: value982</span><br><span class="line">key: key983---value: value983</span><br><span class="line">key: key984---value: value984</span><br><span class="line">key: key985---value: value985</span><br><span class="line">key: key986---value: value986</span><br><span class="line">key: key987---value: value987</span><br><span class="line">key: key988---value: value988</span><br><span class="line">key: key989---value: value989</span><br><span class="line">key: key990---value: value990</span><br><span class="line">key: key991---value: value991</span><br><span class="line">key: key992---value: value992</span><br><span class="line">key: key993---value: value993</span><br><span class="line">key: key994---value: value994</span><br><span class="line">key: key995---value: value995</span><br><span class="line">key: key996---value: value996</span><br><span class="line">key: key997---value: value997</span><br><span class="line">key: key998---value: value998</span><br><span class="line">key: key999---value: value999</span><br></pre></td></tr></table></figure></p><p>It can be seen that the result of our HashMap is excatly the same as the output of HashMap in JDK. It indicates that our HashMap is successfully implemented.</p><h2 id="4-2-Performance-test"><a href="#4-2-Performance-test" class="headerlink" title="4.2 Performance test"></a>4.2 Performance test</h2><p>Result of the performance test:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">time consumed by MyHashMap：30</span><br><span class="line">-----------------------</span><br><span class="line">time consumed by HashMap in JDK：19</span><br></pre></td></tr></table></figure></p><p>Without doubt, the HashMap in JDK is obviously more powerful than the one I implemented. The HashMap in JDK may be the most optimized implementation of map. However, the performance of our own HashMap can be considered acceptable, given the simplicity of the code.</p><p>Thanks for reading.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-Introduction&quot;&gt;&lt;a href=&quot;#1-Introduction&quot; class=&quot;headerlink&quot; title=&quot;1. Introduction&quot;&gt;&lt;/a&gt;1. Introduction&lt;/h1&gt;&lt;p&gt;As one of the important members of data structure in Java, HashMap has high performance in both insertion and query. Recently, I have learnt to know its power when I was working on the project. HashMap provides both high flexibility and scalability for font and back end data interactions that cannot be replaced by other data structures. Its key-value pair structure naturally provides good support for Json transformation. This article mainly analysis the theory of HashMap and how to implement your own HashMap.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>自己动手实现一个HashMap</title>
    <link href="https://winnerchen.github.io/2017/08/26/%E8%87%AA%E5%B7%B1%E5%8A%A8%E6%89%8B%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAHashMap/"/>
    <id>https://winnerchen.github.io/2017/08/26/自己动手实现一个HashMap/</id>
    <published>2017-08-26T07:30:39.000Z</published>
    <updated>2022-06-11T08:38:55.977Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h1><p>HashMap作为java数据结构中重要的一员，同时拥有高效的查询和插入的优点。近期在做项目的时候我也是领略到了hashmap的强大之处，hashmap为前后台数据的交互提供了非常高的可扩展性和灵活性。键值对的数据结构也天然对json字符串的转换提供良好的支持。这篇文章主要分析HashMap的原理，以及如何自己实现一个HashMap。<br><a id="more"></a></p><h1 id="2-HashMap的原理"><a href="#2-HashMap的原理" class="headerlink" title="2. HashMap的原理"></a>2. HashMap的原理</h1><h2 id="2-1-什么是HashMap？"><a href="#2-1-什么是HashMap？" class="headerlink" title="2.1 什么是HashMap？"></a>2.1 什么是HashMap？</h2><p>基于哈希表的 Map 接口的实现。此实现提供所有可选的映射操作，并允许使用 null 值和 null 键。（除了非同步和允许使用 null 之外，HashMap 类与 Hashtable 大致相同。）此类不保证映射的顺序，特别是它不保证该顺序恒久不变 ——摘自百度百科。</p><h2 id="2-2-什么是Hash"><a href="#2-2-什么是Hash" class="headerlink" title="2.2 什么是Hash"></a>2.2 什么是Hash</h2><p>Hash是一种算法，能将一个任意长度的二进制值通过一个映射关系转换成一个固定长度的二进制值。在HashMap中，哈希算法主要是用于根据key的值算出存放数组的index值。HashMap中的存储都是根据key的哈希值有关的。<br>哈希算法又被称为散列的过程，那么什么是散列呢？散列即把数据均匀的存放到数组中的各个位置，从而尽量避免出现多个数据存放在一块区间内。 </p><p>优秀的哈希算法应该具备以下两点：</p><ul><li>保证散列值非常均匀</li><li>保证冲突极少出现</li></ul><p>哈希函数有很多种，在这里我以除留取余法（取模）为例，首先定义一个数组的长度，假设为16。那么此时的索引为key摸于m，m的取值规则是比数组长度小的最大质数。在这个情况下m为13。由于这种算法会导致这样的情况出现，即不同的key经过哈希运算之后得到了一样的index，如key为2和15的index值都为2，那么此时就需要我们处理冲突了。</p><p>Ps. JDK中的hash算法远比这个复杂，在这里我仅仅只是举一个例子方便读者理解。</p><h2 id="2-3-处理冲突"><a href="#2-3-处理冲突" class="headerlink" title="2.3 处理冲突"></a>2.3 处理冲突</h2><ul><li>线性探测法<br>当冲突产生时，查找下一个索引是否被占用，如果没有，则把数据存到该索引上。</li><li>链表形式<br>由于在HashMap中，单个数据是以entry的形式存储的，而entry中包含了key，value和next指针。那么当冲突产生时，我们就把原先存放到这个位置的数据取出来，然后在这个位置存放新的数据，并且把新数据的next指针设为原数据，也就是说链表头位置的数据永远是最新的数据。</li></ul><h1 id="3-实现自己的HashMap"><a href="#3-实现自己的HashMap" class="headerlink" title="3. 实现自己的HashMap"></a>3. 实现自己的HashMap</h1><h2 id="3-1-Map接口"><a href="#3-1-Map接口" class="headerlink" title="3.1 Map接口"></a>3.1 Map接口</h2><p>HashMap的顶层接口是Map，那么我们自己实现的Map也需要一个接口，在这里我定义接口的名称为MyMap&lt;K,V&gt;。这个接口中应该含有的方法包括：</p><ul><li>put(K k,V v)</li><li>get(K k)</li><li>size()</li></ul><p>和一个内部接口</p><ul><li>Entry&lt;K,V&gt;</li></ul><p>这个内部接口中包含两个方法</p><ul><li>getKey()</li><li>getValue()</li></ul><p>代码如下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * put方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> v</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">put</span><span class="params">(K k, V v)</span></span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * get方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">V <span class="title">get</span><span class="params">(K k)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Entry内部接口</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;K&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;V&gt;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="class"><span class="keyword">interface</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt;</span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 根据entry对象获取key值</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function">K <span class="title">getKey</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 根据entry对象获取value值</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="function">V <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-2-内部类Entry的实现"><a href="#3-2-内部类Entry的实现" class="headerlink" title="3.2 内部类Entry的实现"></a>3.2 内部类Entry的实现</h2><p>接口设计完毕之后，我们需要创建一个类来实现这个接口的方法。我创建了一个名为MyHashMap的类实现MyMap接口。</p><p>这里我们需要一个内部类来实现MyMap的内部接口，内部类的实例对象即数组中存储的entry对象，所以我们需要定义三个成员变量，分别是K，V和Next。next的类型就是entry本身，因为它指向的是下一个entry对象。</p><p>内部类代码如下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; <span class="keyword">implements</span>  <span class="title">MyMap</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>, <span class="title">V</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">        K k;</span><br><span class="line">        </span><br><span class="line">        V v;</span><br><span class="line">        </span><br><span class="line">        Entry&lt;K, V&gt; next;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Entry</span><span class="params">(K k, V v, Entry next)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.k = k;</span><br><span class="line">            <span class="keyword">this</span>.v = v;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> K <span class="title">getKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> k;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> V <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> v;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-3-定义成员变量"><a href="#3-3-定义成员变量" class="headerlink" title="3.3 定义成员变量"></a>3.3 定义成员变量</h2><p>HashMap中含有以下几个成员变量：</p><ul><li>默认数组长度</li><li>默认负载因子</li><li>Entry数组</li><li>HashMap的大小</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认数组大小，初始大小为16</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> defaultLength = <span class="number">16</span>;</span><br><span class="line"><span class="comment">//默认负载因子，为0.75</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">double</span> defaultLoader = <span class="number">0.75</span>;</span><br><span class="line"><span class="comment">//Entry数组</span></span><br><span class="line"><span class="keyword">private</span> Entry&lt;K, V&gt;[] table = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">//HashMap的大小</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> size = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="3-4-定义构造方法"><a href="#3-4-定义构造方法" class="headerlink" title="3.4 定义构造方法"></a>3.4 定义构造方法</h2><p>在HashMap中默认数组长度和默认负载因子都是可以自定义的，那么我们定义一个可以自定义数组长度和负载因子的构造方法。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义默认长度和负载因子</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> length</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> loader</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyHashMap</span><span class="params">(<span class="keyword">int</span> length, <span class="keyword">double</span> loader)</span> </span>&#123;</span><br><span class="line">    defaultLength = length;</span><br><span class="line">    defaultLoader = loader;</span><br><span class="line">    <span class="comment">//初始化数组</span></span><br><span class="line">    table = <span class="keyword">new</span> Entry[defaultLength];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>如果不指定数组长度和负载因子则使用默认值<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用默认值</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyHashMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(defaultLength, defaultLoader);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-5定义哈希函数"><a href="#3-5定义哈希函数" class="headerlink" title="3.5定义哈希函数"></a>3.5定义哈希函数</h2><p>上文已经提过了，哈希函数我们使用除留取余法。定义一个整型m，m的取值应该是一个比数组长度小的最大质数，为了简化算法我取数组的长度作为m的值。以key的哈希值模于m，得到index的值并且返回。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 自定义哈希算法</span></span><br><span class="line"><span class="comment"> * 根据key的哈希值得到一个index索引，即存放到数组中的下标</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getKey</span><span class="params">(K k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = defaultLength;</span><br><span class="line">    <span class="keyword">int</span> index = k.hashCode() % m;</span><br><span class="line">    <span class="keyword">return</span> index &gt;= <span class="number">0</span> ? index : -index;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后返回的时候用了一个三元运算符，是为了要确保index的值必须是一个正数。</p><h2 id="3-6-实现put方法"><a href="#3-6-实现put方法" class="headerlink" title="3.6 实现put方法"></a>3.6 实现put方法</h2><p>首先，我们需要通过哈希算法得到数组的下标，然后把一个包含键值对以及next指针的entry对象存到该位置中。</p><p>在存入数组之前我们需要判断当前索引中是否已经存在数据。根据不同情况，做出不同的存储处理，代码中的注释有详细的解释。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K k, V v)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//根据key和哈希算法算出数组下标</span></span><br><span class="line">        <span class="keyword">int</span> index = getKey(k);</span><br><span class="line">        Entry&lt;K, V&gt; entry = table[index];</span><br><span class="line">        <span class="comment">//判断entry是否为空</span></span><br><span class="line">        <span class="keyword">if</span> (entry == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            * 如果entry为空，则代表当前位置没有数据。</span></span><br><span class="line"><span class="comment">            * new一个entry对象，内部存放key，value。</span></span><br><span class="line"><span class="comment">            * 此时next指针没有值，因为这个位置上只有一个entry对象</span></span><br><span class="line"><span class="comment">            * */</span></span><br><span class="line">            table[index] = <span class="keyword">new</span> Entry(k, v, <span class="keyword">null</span>);</span><br><span class="line">            <span class="comment">//map的大小加1</span></span><br><span class="line">            size++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">            * 如果entry不为空，则代表当前位置已经有数据了</span></span><br><span class="line"><span class="comment">            * new一个entry对象，内部存放key，value。</span></span><br><span class="line"><span class="comment">            * 把next指针设置为原本的entry对象并且把数组中的数据替换为新的entry对象</span></span><br><span class="line"><span class="comment">            * */</span></span><br><span class="line">            table[index] = <span class="keyword">new</span> Entry&lt;K, V&gt;(k, v, entry);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> table[index].getValue();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="3-7-实现HashMap的扩容"><a href="#3-7-实现HashMap的扩容" class="headerlink" title="3.7 实现HashMap的扩容"></a>3.7 实现HashMap的扩容</h2><p>HashMap的扩容机制是：当map的大小大于默认长度*默认负载因子，那么数组的长度会翻倍，数组中的数据会重新散列然后再存放。那么在原先的put方法中，需要先判断是否达到扩容的标准在进行执行下面的代码。如果达到扩容的标准则需要调用扩容的方法。代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数组的扩容</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">expand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个大小是原来两倍的entry数组</span></span><br><span class="line">    Entry&lt;K, V&gt;[] newTable = <span class="keyword">new</span> Entry[<span class="number">2</span> * defaultLength];</span><br><span class="line">    <span class="comment">//重新散列</span></span><br><span class="line">    rehash(newTable);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//重新散列的过程</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">rehash</span><span class="params">(Entry&lt;K,V&gt;[] newTable)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个list用于装载HashMap中所有的entry对象</span></span><br><span class="line">    List&lt;Entry&lt;K, V&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;Entry&lt;K, V&gt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//遍历整个数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;table.length;i++) &#123;</span><br><span class="line">        <span class="comment">//如果数组中的某个位置没有数据，则跳过</span></span><br><span class="line">        <span class="keyword">if</span> (table[i] == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//通过递归的方式将所有的entry对象装载到list中</span></span><br><span class="line">        findEntryByNext(table[i],list);</span><br><span class="line">        <span class="keyword">if</span> (list.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//把size重置</span></span><br><span class="line">            size = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">//把默认长度设置为原来的两倍</span></span><br><span class="line">            defaultLength = <span class="number">2</span> * defaultLength;</span><br><span class="line"></span><br><span class="line">            table = newTable;</span><br><span class="line">            <span class="keyword">for</span> (Entry&lt;K, V&gt; entry : list) &#123;</span><br><span class="line">                <span class="keyword">if</span> (entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="comment">//把所有entry的next指针置空</span></span><br><span class="line">                    entry.next = <span class="keyword">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//对新table进行散列</span></span><br><span class="line">                put(entry.getKey(), entry.getValue());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">findEntryByNext</span><span class="params">(Entry&lt;K, V&gt; entry,List&lt;Entry&lt;K, V&gt;&gt; list )</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (entry != <span class="keyword">null</span> &amp;&amp; entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">        list.add(entry);</span><br><span class="line">        <span class="comment">//递归调用</span></span><br><span class="line">        findEntryByNext(entry.next,list);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        list.add(entry);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>因为在put方法中加上了对扩容标准的判断，原先的put方法需要修改<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K k, V v)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//判断size是否达到扩容的标准</span></span><br><span class="line">    <span class="keyword">if</span> (size &gt;= defaultLength * defaultLoader) &#123;</span><br><span class="line">        expand();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据key和哈希算法算出数组下标</span></span><br><span class="line">    <span class="keyword">int</span> index = getKey(k);</span><br><span class="line">    Entry&lt;K, V&gt; entry = table[index];</span><br><span class="line">    <span class="comment">//判断entry是否为空</span></span><br><span class="line">    <span class="keyword">if</span> (entry == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * 如果entry为空，则代表当前位置没有数据。</span></span><br><span class="line"><span class="comment">        * new一个entry对象，内部存放key，value。</span></span><br><span class="line"><span class="comment">        * 此时next指针没有值，因为这个位置上只有一个entry对象</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        table[index] = <span class="keyword">new</span> Entry(k, v, <span class="keyword">null</span>);</span><br><span class="line">        size++;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * 如果entry不为空，则代表当前位置已经有数据了</span></span><br><span class="line"><span class="comment">        * new一个entry对象，内部存放key，value。</span></span><br><span class="line"><span class="comment">        * 把next指针设置为原本的entry对象并且把数组中的数据替换为新的entry对象</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        table[index] = <span class="keyword">new</span> Entry&lt;K, V&gt;(k, v, entry);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> table[index].getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="3-8-实现get方法"><a href="#3-8-实现get方法" class="headerlink" title="3.8 实现get方法"></a>3.8 实现get方法</h2><p>上文提到了，由于hash算法可能会导致相同的索引中包含了不同的entry对象，我们需要通过对比key值的方式来找到我们真正要的那个entry对象。代码如下：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">get</span><span class="params">(K k)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//获取此key对应的entry对象所存放的索引index</span></span><br><span class="line">    <span class="keyword">int</span> index = getKey(k);</span><br><span class="line">    <span class="comment">//非空判断</span></span><br><span class="line">    <span class="keyword">if</span> (table[index] == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//调用方法找到真正的value值并返回。</span></span><br><span class="line">    <span class="keyword">return</span> findValueByEqualKey(k,table[index]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 通过递归比较key值的方式找到真正我们要找的value值</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> k</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> entry</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">findValueByEqualKey</span><span class="params">(K k , Entry&lt;K,V&gt; entry)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 如果传进来的key等于这个entry的key值，说明这个就是我们要找的entry对象</span></span><br><span class="line"><span class="comment">    * 那么直接返回这个entry的value</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">if</span> (k == entry.getKey() || k.equals(entry.getKey())) &#123;</span><br><span class="line">        <span class="keyword">return</span> entry.getValue();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        * 如果不相等，说明这个不是我们要找的entry对象，</span></span><br><span class="line"><span class="comment">        * 通过递归的方式去比较它的next指针中的entry的key值，来找到真正的entry对象</span></span><br><span class="line"><span class="comment">        * */</span></span><br><span class="line">        <span class="keyword">if</span> (entry.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> findValueByEqualKey(k, entry.next);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> entry.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>由于size方法非常简单，直接返回size即可，我直接贴一下代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//返回HashMap的大小</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>到了这里，HashMap的基本功能已经都写完了，包括put方法、get方法和扩容机制。那么下面我们来测试一下看看自己写的map能否实现功能。</p><h1 id="4-测试MyHashMap"><a href="#4-测试MyHashMap" class="headerlink" title="4. 测试MyHashMap"></a>4. 测试MyHashMap</h1><p>写一个测试类，对比一下我们的HashMap和jdk自带的HashMap，看看输出是否一样。</p><p>测试类代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Yiheng Chen</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: Map测试类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: Created in 4:33 2017/9/1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Modified</span> by:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMapTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        MyHashMap&lt;String,String &gt; map = <span class="keyword">new</span> MyHashMap();</span><br><span class="line"></span><br><span class="line">        Long t1 = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">            map.put(<span class="string">"key"</span> + i, <span class="string">"value"</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">"key: "</span> + <span class="string">"key"</span> + i +<span class="string">"---"</span>+ <span class="string">"value: "</span> + map.get(<span class="string">"key"</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line">        Long t2 = System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"MyHashMap耗时："</span>+(t2-t1));</span><br><span class="line">        System.out.println(<span class="string">"-------------------HashMap-------------------------"</span> );</span><br><span class="line"></span><br><span class="line">        Map&lt;String,String &gt; hashMap = <span class="keyword">new</span> HashMap();</span><br><span class="line"></span><br><span class="line">        Long t3 = System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">1000</span>;i++) &#123;</span><br><span class="line">            hashMap.put(<span class="string">"key"</span> + i, <span class="string">"value"</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">"key: "</span> + <span class="string">"key"</span> + i + <span class="string">"---"</span>+ <span class="string">"value: "</span> + hashMap.get(<span class="string">"key"</span> + i));</span><br><span class="line">        &#125;</span><br><span class="line">        Long t4 = System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"JDK的HashMap耗时："</span>+(t4-t3));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>部分结果的截取：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">key: key980---value: value980</span><br><span class="line">key: key981---value: value981</span><br><span class="line">key: key982---value: value982</span><br><span class="line">key: key983---value: value983</span><br><span class="line">key: key984---value: value984</span><br><span class="line">key: key985---value: value985</span><br><span class="line">key: key986---value: value986</span><br><span class="line">key: key987---value: value987</span><br><span class="line">key: key988---value: value988</span><br><span class="line">key: key989---value: value989</span><br><span class="line">key: key990---value: value990</span><br><span class="line">key: key991---value: value991</span><br><span class="line">key: key992---value: value992</span><br><span class="line">key: key993---value: value993</span><br><span class="line">key: key994---value: value994</span><br><span class="line">key: key995---value: value995</span><br><span class="line">key: key996---value: value996</span><br><span class="line">key: key997---value: value997</span><br><span class="line">key: key998---value: value998</span><br><span class="line">key: key999---value: value999</span><br></pre></td></tr></table></figure></p><p>可以发现MyHashMap的输出和JDK的HashMap是完全一样的，那么说明了这个自己实现的HashMap功能已经基本实现。</p><p>然后我又在这个基础上测试了一下耗时，结果如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyHashMap耗时：30</span><br><span class="line">-----------------------</span><br><span class="line">JDK的HashMap耗时：19</span><br></pre></td></tr></table></figure></p><p>性能上自然是JDK的HashMap更强大，这个毋庸置疑，JDK中的HashMap可以说是最优化的map实现了，我们自己实现的肯定不如人家的。但是这个性能已经是不错的了。</p><p>至此，我们已经完整的实现了一个自己的HashMap，希望这篇文章对你有帮助。</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-前言&quot;&gt;&lt;a href=&quot;#1-前言&quot; class=&quot;headerlink&quot; title=&quot;1. 前言&quot;&gt;&lt;/a&gt;1. 前言&lt;/h1&gt;&lt;p&gt;HashMap作为java数据结构中重要的一员，同时拥有高效的查询和插入的优点。近期在做项目的时候我也是领略到了hashmap的强大之处，hashmap为前后台数据的交互提供了非常高的可扩展性和灵活性。键值对的数据结构也天然对json字符串的转换提供良好的支持。这篇文章主要分析HashMap的原理，以及如何自己实现一个HashMap。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hexo+Node.js+GitHub搭建自己的个人博客</title>
    <link href="https://winnerchen.github.io/2017/08/11/Hexo-Node-js-GitHub%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>https://winnerchen.github.io/2017/08/11/Hexo-Node-js-GitHub搭建自己的个人博客/</id>
    <published>2017-08-11T06:18:17.000Z</published>
    <updated>2022-06-11T08:38:55.970Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h1><p>作为一名技术人员，很早之前就想搭建一个自己的个人博客了，但是由于种种原因一直搁置着，最近终于闲了下来，有时间去慢慢折腾了。拥有自己的个人博客是有很多好处的，包括：</p><ul><li>总结自己的学习和成长</li><li>记录自己对于各种技术的收获</li><li>共享知识，方便其他人学习</li><li>包装自己，展示自我</li><li>练习文笔</li><li>…</li></ul><p>还有很多的好处就不一一描述了，相信大家都有各种各样的动力去做一个博客。相对于早期的博客开发来说，现在搭建自己的个人博客是一件相对容易的事情，很多的框架和技术都已经把复杂的流程和操作封装起来，准备好环境之后只需要几条命令行即可完成本地博客的搭建。新博文的发布和编辑也是很好上手的。<br><a id="more"></a></p><p>选择一个自己喜欢的主题风格即可让自己的博客看起来有模有样的了，以下是搭建博客的准备工作。</p><h1 id="2-搭建环境准备"><a href="#2-搭建环境准备" class="headerlink" title="2. 搭建环境准备"></a>2. 搭建环境准备</h1><ul><li>Node.js的安装和准备</li><li>Git的安装和准备</li><li>GitHub账号的配置和仓库的新建<h2 id="2-1-下载Node-js的安装文件"><a href="#2-1-下载Node-js的安装文件" class="headerlink" title="2.1 下载Node.js的安装文件"></a>2.1 下载Node.js的安装文件</h2>Node.js下载链接：</li></ul><ul><li><a href="https://nodejs.org/dist/v4.2.3/node-v4.2.3-x86.msi" title="Node.js 32-bit" target="_blank" rel="noopener">Windows Installer 32-bit</a> </li><li><a href="https://nodejs.org/dist/v4.2.3/node-v4.2.3-x64.msi" title="Node.js 32-bit" target="_blank" rel="noopener">Windows Installer 64-bit</a> </li></ul><p>大家可以根据自己的windows版本下载安装相应的文件。</p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_4.png" alt><br>下载完毕之后，一路按next即可完成安装。</p><p>然后我们检查一下组件是否安装完毕，按下Win+R输入CMD打开命令行窗口。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_1.png" alt><br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_2.png" alt><br>在打开的命令行窗口中输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>如果显示如下图，则表示安装正确，可以进行下一步安装。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_3.png" alt> </p><h2 id="2-2-配置Git环境"><a href="#2-2-配置Git环境" class="headerlink" title="2.2 配置Git环境"></a>2.2 配置Git环境</h2><p>下载<a href="https://git-scm.com/downloads" title="Git下载" target="_blank" rel="noopener">Git安装文件</a></p><p>下载完成之后直接安装即可，安装过程无需解释了，next到结束即可。</p><p>安装完毕之后用命令来检查Git是否已经正确安装:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure></p><p>如果结果如下图所示，则说明安装正确，进入下一步安装。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_5.png" alt> </p><h2 id="2-3-GitHub账号的注册和配置"><a href="#2-3-GitHub账号的注册和配置" class="headerlink" title="2.3 GitHub账号的注册和配置"></a>2.3 GitHub账号的注册和配置</h2><h3 id="2-3-1-GitHub账号的注册"><a href="#2-3-1-GitHub账号的注册" class="headerlink" title="2.3.1 GitHub账号的注册"></a>2.3.1 GitHub账号的注册</h3><p>前往<a href="https://github.com/" target="_blank" rel="noopener">GitHub注册页面</a>注册自己的个人账户</p><h3 id="2-3-2-GitHub仓库的创建"><a href="#2-3-2-GitHub仓库的创建" class="headerlink" title="2.3.2 GitHub仓库的创建"></a>2.3.2 GitHub仓库的创建</h3><p>如下图所示，点击Your Profile - Repositories - New来创建新仓库<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_7.png" alt><br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_6.png" alt></p><p>在repository内填写yourname.github.io,如下图所示<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_8.png" alt></p><h3 id="2-3-3-仓库配置"><a href="#2-3-3-仓库配置" class="headerlink" title="2.3.3 仓库配置"></a>2.3.3 仓库配置</h3><p>如果仓库正确创建之后，你会看到如下界面：<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_9.png" alt><br>然后点击setting选项卡，进入设置页面，往下拖至GitHub Pages项，此时可以看到Source下的选项不可用，因为此时尚未有分支创建和代码提交。如下图所示。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_10.png" alt><br>在完成了hexo的安装、测试以及代码推送之后，可以选择master分支将自己的博客代码部署到GitHub服务器上。下面介绍Hexo的安装和配置。</p><h2 id="2-4-安装Hexo"><a href="#2-4-安装Hexo" class="headerlink" title="2.4 安装Hexo"></a>2.4 安装Hexo</h2><p>首先新建一个文件夹，作为你的本地博客网站的路径。我的路径是F:/hexo。在该文件夹下按住Shift键+右键，选择‘在此处打开命令窗口’，进入cmd命令行。<br>在命令行中输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo -g  #-g表示全局安装, npm默认为当前项目安装</span><br><span class="line">hexo version</span><br></pre></td></tr></table></figure></p><p>如果遇到报错，则用下面命令安装<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo --no-optional</span><br></pre></td></tr></table></figure></p><p>使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo v</span><br></pre></td></tr></table></figure></p><p>来查看hexo是否已经正确安装，如果显示下图，则表明安装成功。</p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_11.png" alt></p><h1 id="3-部署本地博客"><a href="#3-部署本地博客" class="headerlink" title="3. 部署本地博客"></a>3. 部署本地博客</h1><p>然后依次输入hexo命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo init #执行init命令初始化到你指定的hexo目录</span><br><span class="line">npm install    #install before start blogging</span><br><span class="line">hexo generate       #自动根据当前目录下文件,生成静态网页</span><br><span class="line">hexo server         #运行本地服务</span><br></pre></td></tr></table></figure></p><p>显示下图则表示项目已经成功初始化并且部署到本地4000端口。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_13.png" alt><br>在浏览器中输入<a href="http://localhost:4000/即可访问本地博客。" target="_blank" rel="noopener">http://localhost:4000/即可访问本地博客。</a><br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_14.png" alt></p><h1 id="4-把本地博客部署到GitHub-Pages"><a href="#4-把本地博客部署到GitHub-Pages" class="headerlink" title="4. 把本地博客部署到GitHub Pages"></a>4. 把本地博客部署到GitHub Pages</h1><h2 id="4-1-在Git中配置个人信息"><a href="#4-1-在Git中配置个人信息" class="headerlink" title="4.1 在Git中配置个人信息"></a>4.1 在Git中配置个人信息</h2><p>如果你之前已经配置好Git的个人信息，可以跳过这一步。<br>查看Git是否关联GitHub：在该文件夹下右击打开GIT bash窗口，然后输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure></p><p>如果显示如下图，则表示已经关联成功<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_15.png" alt><br>如果是初次使用git要首先设置git的username和email：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;your_username&quot;</span><br><span class="line">git config --global user.email &quot;your_email@xxx.com&quot;</span><br></pre></td></tr></table></figure></p><p>然后生成秘钥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;your_email@xxx.com&quot;</span><br></pre></td></tr></table></figure></p><p>连续按三次回车之后，会生成两个文件id_rsa 和 id_rsa.pub，id_rsa 是密钥，id_rsa.pub 就是公钥。这两文件默认分别在如下目录里生成：</p><p>Linux/Mac 系统 在 ~/.ssh 下，win系统在 /c/Documents and Settings/username/.ssh 下，都是隐藏文件，相信你们有办法查看的。</p><p>接下来要做的是把 id_rsa.pub 的内容添加到 GitHub 上，这样你本地的 id_rsa 密钥跟 GitHub上的 id_rsa.pub 公钥进行配对，授权成功才可以提交代码。</p><h2 id="4-2-GitHub上添加SSH-key"><a href="#4-2-GitHub上添加SSH-key" class="headerlink" title="4.2 GitHub上添加SSH key"></a>4.2 GitHub上添加SSH key</h2><p>第一步先在 GitHub 上的设置页面，点击最左侧 SSH and GPG keys ：<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_16.png" alt><br>然后点击右上角的 New SSH key 按钮， 然后将id_rsa.pub公钥文件里的内容复制粘贴进去就可以了。Title那一栏可以不用填写。点击Add SSH key 按钮就ok了。<br>SSH key 添加成功之后，输入 ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a> 进行测试，如果出现以下提示证明添加成功了。<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_17.png" alt></p><h2 id="4-3-配置-config-yml文件"><a href="#4-3-配置-config-yml文件" class="headerlink" title="4.3 配置_config.yml文件"></a>4.3 配置_config.yml文件</h2><p>在根目录下找到_config.yml文件，找到deployment，然后按照如下修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p><p>比如我的仓库的地址是<a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a>:winnerchen/chen.github.io.git，所以配置如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:winnerchen/chen.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></p><p>同时还可在site栏下修改标题已经作者：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: Your Blog Name</span><br><span class="line">subtitle: Your Subtitle</span><br><span class="line">description:</span><br><span class="line">author: Your Name</span><br><span class="line">language:</span><br><span class="line">timezone:</span><br></pre></td></tr></table></figure></p><p>配置url和root（非常重要！如果没有配置成功会显示不出样式和主题！）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: http://yoursite.com</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure></p><p>以我的配置为例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">url:  https://winnerchen.github.io #博客的域名</span><br><span class="line">root: /chen.github.io #git仓库的名称</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure></p><h2 id="4-4部署到GitHub-Pages"><a href="#4-4部署到GitHub-Pages" class="headerlink" title="4.4部署到GitHub Pages"></a>4.4部署到GitHub Pages</h2><p>安装git扩展：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p><p>如果没有执行者行命令，将会提醒<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deloyer not found:git</span><br></pre></td></tr></table></figure></p><p>运行生成和部署的命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g   # 生成</span><br><span class="line">hexo d   # 部署</span><br></pre></td></tr></table></figure></p><p>显示下图表明项目已经成功推送到github远程仓库<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_18.png" alt><br>此时到github仓库中查看，会发现代码已经成功上传<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_19.png" alt><br>然后进入setting中，找到github pages，把source选为master branch<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_20.png" alt><br>稍等一分钟左右，等到刷出如下图所示的页面即可访问自己部署在github上的个人博客了！<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_21.png" alt></p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/blog_22.png" alt><br>至此，在github上部署个人博客的教程已经结束，希望大家都不出bug顺利走完！</p><h1 id="5-发布日志"><a href="#5-发布日志" class="headerlink" title="5.发布日志"></a>5.发布日志</h1><p>To be continued…</p><h1 id="6-自定义主题"><a href="#6-自定义主题" class="headerlink" title="6.自定义主题"></a>6.自定义主题</h1><p>To be continued…</p><h1 id="7-插件安装"><a href="#7-插件安装" class="headerlink" title="7.插件安装"></a>7.插件安装</h1><p>To be continued…</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-前言&quot;&gt;&lt;a href=&quot;#1-前言&quot; class=&quot;headerlink&quot; title=&quot;1. 前言&quot;&gt;&lt;/a&gt;1. 前言&lt;/h1&gt;&lt;p&gt;作为一名技术人员，很早之前就想搭建一个自己的个人博客了，但是由于种种原因一直搁置着，最近终于闲了下来，有时间去慢慢折腾了。拥有自己的个人博客是有很多好处的，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;总结自己的学习和成长&lt;/li&gt;
&lt;li&gt;记录自己对于各种技术的收获&lt;/li&gt;
&lt;li&gt;共享知识，方便其他人学习&lt;/li&gt;
&lt;li&gt;包装自己，展示自我&lt;/li&gt;
&lt;li&gt;练习文笔&lt;/li&gt;
&lt;li&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还有很多的好处就不一一描述了，相信大家都有各种各样的动力去做一个博客。相对于早期的博客开发来说，现在搭建自己的个人博客是一件相对容易的事情，很多的框架和技术都已经把复杂的流程和操作封装起来，准备好环境之后只需要几条命令行即可完成本地博客的搭建。新博文的发布和编辑也是很好上手的。&lt;br&gt;
    
    </summary>
    
      <category term="搭建博客" scheme="https://winnerchen.github.io/categories/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="GitHub" scheme="https://winnerchen.github.io/tags/GitHub/"/>
    
      <category term="Hexo" scheme="https://winnerchen.github.io/tags/Hexo/"/>
    
      <category term="个人博客" scheme="https://winnerchen.github.io/tags/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="Node.js" scheme="https://winnerchen.github.io/tags/Node-js/"/>
    
  </entry>
  
  <entry>
    <title>搬瓦工+SS+FS搭建自己的翻墙神器</title>
    <link href="https://winnerchen.github.io/2017/08/09/%E6%90%AC%E7%93%A6%E5%B7%A5-ss-fs%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A7%81%E4%BA%BA%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    <id>https://winnerchen.github.io/2017/08/09/搬瓦工-ss-fs搭建自己的私人服务器/</id>
    <published>2017-08-09T06:49:17.000Z</published>
    <updated>2022-06-11T08:38:55.977Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>作为一个经常上谷歌，YouTube的程序狗，不能自由的访问网络实在是让我很心烦，以前我都是买网上的vpn服务，但是由于不知名的原因，那个网站被封掉了…</p><p>购买vpn服务其实也有很多的弊端，例如数据有泄漏的隐患、网络高峰期速度会比较慢，还有就是vpn的费用比起整年购买的vps服务也是贵了不少。</p><p>前两天有一个哥们推荐了这么一个翻墙的神技，根据相应的关键字我百度了一番教程之后，终于被我摸索出一套可行的方案。下面是很详细的教程，希望新手们在走完教程后能享受到自由无限制的网络:)<br><a id="more"></a></p><h1 id="1-搬瓦工"><a href="#1-搬瓦工" class="headerlink" title="1.搬瓦工"></a>1.搬瓦工</h1><h2 id="1-1注册·"><a href="#1-1注册·" class="headerlink" title="1.1注册·"></a>1.1注册·</h2><p>传送门：<a href="https://bwh1.net/register.php" target="_blank" rel="noopener">https://bwh1.net/register.php</a></p><p>需要提一句的是，在注册的时候，如果是国内的网络会显示不出验证码。不过相信这种问题一定难不倒机智的你。</p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_1.png" alt> </p><h2 id="1-2-购买服务"><a href="#1-2-购买服务" class="headerlink" title="1.2 购买服务"></a>1.2 购买服务</h2><p>作为个人用户，我推荐大家还是买第一个服务即可，不做为商业服务器部署项目的话，每个月的500个G的流量是非常够用的。一年下来大概36美金。</p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_2.png" alt> </p><h2 id="1-3-服务管理"><a href="#1-3-服务管理" class="headerlink" title="1.3 服务管理"></a>1.3 服务管理</h2><p>根据下图即可跳转到管理界面<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_3.png" alt> </p><p>主管理界面：<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_4.png" alt><br>注意这里记录了你的ip地址和端口号，之后FS和SS的客户端会需要这些数据。</p><h1 id="2-ShadowSocks"><a href="#2-ShadowSocks" class="headerlink" title="2. ShadowSocks"></a>2. ShadowSocks</h1><h2 id="2-1-配置服务器端"><a href="#2-1-配置服务器端" class="headerlink" title="2.1 配置服务器端"></a>2.1 配置服务器端</h2><p>SS服务器端的配置非常简单，因为搬瓦工已经帮我们一键集成了，我们需要做的就是开启这个服务。具体流程参考下图。</p><p><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_5.png" alt><br>在屏幕的左边点击Shadowsocks Server，第一次进入会提示你未开启该服务，是否需要现在开启。直接点激活即可。</p><p>激活完毕之后就会跳转到这个界面，SS服务器端口号和密码需要记录下来，客户端需要使用。</p><h2 id="2-2-配置客户端"><a href="#2-2-配置客户端" class="headerlink" title="2.2 配置客户端"></a>2.2 配置客户端</h2><p>推荐使用版本：2.5.8<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_6.png" alt><br>根据上图配置SS客户端的ip地址，端口号。密码从搬瓦工网上复制下来。<br>端口号2000是本地端口，用于加速使用，可以随意填写。</p><h1 id="3-FinalSpeed"><a href="#3-FinalSpeed" class="headerlink" title="3. FinalSpeed"></a>3. FinalSpeed</h1><h2 id="3-1-配置服务器端"><a href="#3-1-配置服务器端" class="headerlink" title="3.1 配置服务器端"></a>3.1 配置服务器端</h2><p>打开搬瓦工的linux命令行，点击右边导航栏的Root-shell basic进入。<br>在命令行中依次输入：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/91yun/finalspeed/master/install_fs.sh &amp;&amp; bash install_fs.sh</span><br></pre></td></tr></table></figure><p>顺利安装好FS的服务端之后即可输入启动命令来启动FS服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/finalspeed start</span><br></pre></td></tr></table></figure></p><p>FS相关命令<br>停止FS服务端：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/finalspeed stop</span><br></pre></td></tr></table></figure></p><p>查看FS运行状态<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/finalspeed status</span><br></pre></td></tr></table></figure></p><h2 id="3-2-配置客户端"><a href="#3-2-配置客户端" class="headerlink" title="3.2 配置客户端"></a>3.2 配置客户端</h2><p>推荐版本：FinalSpeed1.2<br>详细配置参见下图<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_7.png" alt><br>如果连接成功会提示已成功连接<br><img src="https://raw.githubusercontent.com/winnerchen/hexo/master/source/images/vps_8.png" alt> </p><p>如果一切顺利，至此一切配置都已配完，是时候享受自由无限制的网络了！</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;作为一个经常上谷歌，YouTube的程序狗，不能自由的访问网络实在是让我很心烦，以前我都是买网上的vpn服务，但是由于不知名的原因，那个网站被封掉了…&lt;/p&gt;
&lt;p&gt;购买vpn服务其实也有很多的弊端，例如数据有泄漏的隐患、网络高峰期速度会比较慢，还有就是vpn的费用比起整年购买的vps服务也是贵了不少。&lt;/p&gt;
&lt;p&gt;前两天有一个哥们推荐了这么一个翻墙的神技，根据相应的关键字我百度了一番教程之后，终于被我摸索出一套可行的方案。下面是很详细的教程，希望新手们在走完教程后能享受到自由无限制的网络:)&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>IDEA5分钟，Eclipse2小时</title>
    <link href="https://winnerchen.github.io/2017/08/06/IDEA5%E5%88%86%E9%92%9F%EF%BC%8CEclipse2%E5%B0%8F%E6%97%B6/"/>
    <id>https://winnerchen.github.io/2017/08/06/IDEA5分钟，Eclipse2小时/</id>
    <published>2017-08-06T11:30:51.000Z</published>
    <updated>2022-06-11T08:38:55.970Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IDEA概述"><a href="#IDEA概述" class="headerlink" title="IDEA概述"></a>IDEA概述</h1><h2 id="1-1-Java开发人员常用IDE"><a href="#1-1-Java开发人员常用IDE" class="headerlink" title="1.1 Java开发人员常用IDE"></a>1.1 Java开发人员常用IDE</h2><h3 id="1-1-1-什么是IDE"><a href="#1-1-1-什么是IDE" class="headerlink" title="1.1.1 什么是IDE"></a>1.1.1 什么是IDE</h3><p>IDE（Integrated [ˈɪntɪgreɪtɪd] Development Environment）-集成开发环境。是用于提供程序开发环境的应用程序，一般包括代码编辑器，编译器，调试器和图形用户操作等工具。 —-来源于百度百科</p><h3 id="1-1-2-Java开发人员常用IDE"><a href="#1-1-2-Java开发人员常用IDE" class="headerlink" title="1.1.2 Java开发人员常用IDE"></a>1.1.2 Java开发人员常用IDE</h3><p>Eclipse,MyEclipse, IntelliJ IDEA<br><a id="more"></a></p><h2 id="1-2、IDEA简介"><a href="#1-2、IDEA简介" class="headerlink" title="1.2、IDEA简介"></a>1.2、IDEA简介</h2><p>IDEA 全称IntelliJ IDEA，是java语言开发的集成环境。<br>IDEA是JetBrains公司的产品。<br>IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、Ant、JUnit、CVS整合、代码审查方面。</p><p>了解：JetBrains公司开发的所有工具。</p><h2 id="1-3、IDEA与Eclipse"><a href="#1-3、IDEA与Eclipse" class="headerlink" title="1.3、IDEA与Eclipse"></a>1.3、IDEA与Eclipse</h2>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;IDEA概述&quot;&gt;&lt;a href=&quot;#IDEA概述&quot; class=&quot;headerlink&quot; title=&quot;IDEA概述&quot;&gt;&lt;/a&gt;IDEA概述&lt;/h1&gt;&lt;h2 id=&quot;1-1-Java开发人员常用IDE&quot;&gt;&lt;a href=&quot;#1-1-Java开发人员常用IDE&quot; class=&quot;headerlink&quot; title=&quot;1.1 Java开发人员常用IDE&quot;&gt;&lt;/a&gt;1.1 Java开发人员常用IDE&lt;/h2&gt;&lt;h3 id=&quot;1-1-1-什么是IDE&quot;&gt;&lt;a href=&quot;#1-1-1-什么是IDE&quot; class=&quot;headerlink&quot; title=&quot;1.1.1 什么是IDE&quot;&gt;&lt;/a&gt;1.1.1 什么是IDE&lt;/h3&gt;&lt;p&gt;IDE（Integrated [ˈɪntɪgreɪtɪd] Development Environment）-集成开发环境。是用于提供程序开发环境的应用程序，一般包括代码编辑器，编译器，调试器和图形用户操作等工具。 —-来源于百度百科&lt;/p&gt;
&lt;h3 id=&quot;1-1-2-Java开发人员常用IDE&quot;&gt;&lt;a href=&quot;#1-1-2-Java开发人员常用IDE&quot; class=&quot;headerlink&quot; title=&quot;1.1.2 Java开发人员常用IDE&quot;&gt;&lt;/a&gt;1.1.2 Java开发人员常用IDE&lt;/h3&gt;&lt;p&gt;Eclipse,MyEclipse, IntelliJ IDEA&lt;br&gt;
    
    </summary>
    
      <category term="IDE工具" scheme="https://winnerchen.github.io/categories/IDE%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="IDEA" scheme="https://winnerchen.github.io/tags/IDEA/"/>
    
      <category term="JetBrains" scheme="https://winnerchen.github.io/tags/JetBrains/"/>
    
      <category term="开发工具" scheme="https://winnerchen.github.io/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Git:从零开始</title>
    <link href="https://winnerchen.github.io/2017/08/06/Git-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B/"/>
    <id>https://winnerchen.github.io/2017/08/06/Git-从零开始/</id>
    <published>2017-08-06T10:27:00.000Z</published>
    <updated>2022-06-11T08:38:55.969Z</updated>
    
    <content type="html"><![CDATA[<h1 id="初识GitHub"><a href="#初识GitHub" class="headerlink" title="初识GitHub"></a>初识GitHub</h1><h2 id="1-什么是GitHub"><a href="#1-什么是GitHub" class="headerlink" title="1. 什么是GitHub"></a>1. 什么是GitHub</h2><p>GitHub是一个面向开源及私有软件项目的托管平台,它只支持git这一种版本管理技术,故名GitHub。对于大部分用户来说，GitHub是一个托管代码的地方，用于备份其本地仓库的代码。</p><h2 id="2-GitHub和Git的区别"><a href="#2-GitHub和Git的区别" class="headerlink" title="2.GitHub和Git的区别"></a>2.GitHub和Git的区别</h2><p>本人刚开始学习编程的时候也分不清两者的区别，以为GitHub就是Git，但是它们其实是有本质上的区别的。<br><a id="more"></a></p><p>Git是一个开源的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。Git是大名鼎鼎的Linux发明者Linus Torvalds 开发的。不管是想要学习GitHub，还是从事编程相关行业的工作，git都是一门必须要学习的技术，所以从现在开始学习和了解git技术吧！</p><p>而GitHub已经在上面介绍过了，是一个基于git技术的版本托管平台。所以Git知识GitHub上面用来管理项目的一个工具而已，而GitHub的功能则远比这个强大。</p><h2 id="3-GitHub-有什么用"><a href="#3-GitHub-有什么用" class="headerlink" title="3. GitHub 有什么用"></a>3. GitHub 有什么用</h2><ul><li>学习优秀的开源项目</li></ul><p>开源社区一直有一句流行的话叫「不要重复发明轮子」，某种意义上正是因为开源社区的贡献，我们的软件开发才能变得越来越容易，越来越快速。试想你在做项目时，如果每一模块都要自己去写，如网络库、图片加载库、ORM库等等，自己写的好不好是一回事，时间与资源是很大的成本。对于大公司可能会有人力与资源去发明一套自己的轮子，但是对于大部分互联网创业公司来说时间就是一切。而且你在使用开源项目的过程也可以学习他们优秀的设计思想、实现方式，这是最好的学习资料，也是一份提升自己能力的绝佳方式！</p><ul><li>多人协作</li></ul><p>如果你想发起一个项目，比如翻译一份不错的英文文档，觉得一个人的精力不够，所以你需要更多的人参与进来，这时候 GitHub是你的最佳选择，感兴趣的人可以参与进来，利用业余时间对这个项目做贡献，然后可以互相审核、合并，简直不要太棒！</p><ul><li>搭建博客、个人网站或者公司官网</li></ul><p>这个就不用多说了，现在越来越多的博客都是基于 GitHub Pages来搭建的了，你可以随心所欲的定制自己的样式，可以给你博客买个逼格高的域名，再也不用忍受各大博客网站的约束与各式各样的广告了！</p><ul><li>写作</li></ul><p>如果你喜欢写作，而且基于 Markdown， 并准备出版书籍，那么推荐你用 Gitbook ，技术写作人的最爱！</p><ul><li>个人简历</li></ul><p>如果你有一个活跃的 GitHub账号，上面有自己不错的开源项目，还经常给别的开源项目提问题，push 代码，那么你找工作将是一个非常大的优势，现在程序员的招聘很多公司都很看中你 GitHub 账号，某种意义上 GitHub就可以算是你的简历了。而且不仅国内，很多国外的科技公司都会通过 GitHub 来寻找优秀的人才。</p><h1 id="GIT快速入门"><a href="#GIT快速入门" class="headerlink" title="GIT快速入门"></a>GIT快速入门</h1><p>关于GitHub的介绍就到这里了，本篇文章的目的是让读者能快速入门Git，运用Git命令行操作本地仓库，并同步到远程仓库。下文会先介绍一些最基本的Git知识和常用的Git操作。</p><h2 id="1-什么是Git"><a href="#1-什么是Git" class="headerlink" title="1. 什么是Git"></a>1. 什么是Git</h2><p>上文说了，Git是一款新时代的版本控制工具，那么版本控制到底是什么意思呢？如何去理解版本控制工具呢？下面几个例子大家可以思考一下。</p><p>在软件开发中，源代码是最重要的，那么对于源代码的管理也就非常重要：</p><p>比如为了防止代码的丢失，肯定本地机器与远程服务器都要存放一份，而且还需要有一套机<br>制让本地可以跟远程同步；</p><p>又比如我们经常是好几个人做同一个项目，都要对一份代码做更改，这个时候需要大家互不<br>影响，又需要各自可以同步别人的代码；</p><p>又比如我们开发的时候免不了有bug，有时候刚发布的功能就出现了严重的bug，这个时候需<br>要紧急对代码进行还原；</p><p>又比如随着我们版本迭代的功能越来越多，但是我们需要清楚的知道历史每一个版本的代码<br>更改记录，甚至知道每个人历史提交代码的情况；</p><p>等等等类似以上的情况，这些都是版本控制系统能解决的问题。所以说，版本控制是一种记<br>录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统，对于软件开发领域来<br>说版本控制是最重要的一环，而 Git 毫无疑问是当下最流行、最好用的版本控制系统。</p><h2 id="2-Git安装"><a href="#2-Git安装" class="headerlink" title="2. Git安装"></a>2. Git安装</h2><p>上面说了，Git 是一个版本控制系统，你也可以理解成是一个工具，跟 Java 类似，使用之前<br>必须得先下载安装，所以第一步必须要安装，我用的是 Mac ， Mac 上其实系统自带 Git 的，<br>不过这里统一提供一下各平台的安装方式，这部分就不过多介绍，相信大家这里搞的定。</p><ul><li>Mac：<a href="https://sourceforge.net/projects/git-osx-installer/" target="_blank" rel="noopener">https://sourceforge.net/projects/git-osx-installer/</a></li><li>Windows：<a href="https://git-for-windows.github.io/" target="_blank" rel="noopener">https://git-for-windows.github.io/</a></li><li>Linux：apt-get install git</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;初识GitHub&quot;&gt;&lt;a href=&quot;#初识GitHub&quot; class=&quot;headerlink&quot; title=&quot;初识GitHub&quot;&gt;&lt;/a&gt;初识GitHub&lt;/h1&gt;&lt;h2 id=&quot;1-什么是GitHub&quot;&gt;&lt;a href=&quot;#1-什么是GitHub&quot; class=&quot;headerlink&quot; title=&quot;1. 什么是GitHub&quot;&gt;&lt;/a&gt;1. 什么是GitHub&lt;/h2&gt;&lt;p&gt;GitHub是一个面向开源及私有软件项目的托管平台,它只支持git这一种版本管理技术,故名GitHub。对于大部分用户来说，GitHub是一个托管代码的地方，用于备份其本地仓库的代码。&lt;/p&gt;
&lt;h2 id=&quot;2-GitHub和Git的区别&quot;&gt;&lt;a href=&quot;#2-GitHub和Git的区别&quot; class=&quot;headerlink&quot; title=&quot;2.GitHub和Git的区别&quot;&gt;&lt;/a&gt;2.GitHub和Git的区别&lt;/h2&gt;&lt;p&gt;本人刚开始学习编程的时候也分不清两者的区别，以为GitHub就是Git，但是它们其实是有本质上的区别的。&lt;br&gt;
    
    </summary>
    
      <category term="GitHub" scheme="https://winnerchen.github.io/categories/GitHub/"/>
    
    
      <category term="Git" scheme="https://winnerchen.github.io/tags/Git/"/>
    
      <category term="GitHub" scheme="https://winnerchen.github.io/tags/GitHub/"/>
    
      <category term="版本控制" scheme="https://winnerchen.github.io/tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    
      <category term="代码托管" scheme="https://winnerchen.github.io/tags/%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>Markdown基础教程</title>
    <link href="https://winnerchen.github.io/2017/08/06/Markdown%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/>
    <id>https://winnerchen.github.io/2017/08/06/Markdown基础教程/</id>
    <published>2017-08-06T07:39:48.000Z</published>
    <updated>2022-06-11T08:38:55.970Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-标题"><a href="#1-标题" class="headerlink" title="1. 标题"></a>1. 标题</h1><p>为了获得上面的 “<code>1. 标题</code>”， 在 Markdown 编辑器里输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 1. 标题</span><br></pre></td></tr></table></figure><p>“<code>#</code>” 后最好加个空格。除此之外，还有 5 级标题，依次有不同的字体大小，即</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure><p>这样就有：<br><a id="more"></a></p><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><hr><h1 id="2-加粗，斜体"><a href="#2-加粗，斜体" class="headerlink" title="2. 加粗，斜体"></a>2. 加粗，斜体</h1><p>最常用的强调方式，那就是 <strong>加粗</strong> 了，你得这样：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最常用的强调方式，那就是 **加粗** 了，你得这样：</span><br></pre></td></tr></table></figure><p>通常我喜欢在 “<code>**加粗的部分**</code>” 旁边各加一个空格，当然你也可以不这样。<br>斜体则多用在于书名，比如：我从来没看过 <em>Jane Eyre</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">斜体则多用在于书名，比如：我从来没看过 *Jane Eyre*</span><br></pre></td></tr></table></figure><p>但中文的斜体我觉得真是不美，像：《<em>简 · 爱</em>》，一般还是别用了。</p><hr><h1 id="3-层次"><a href="#3-层次" class="headerlink" title="3. 层次"></a>3. 层次</h1><p>比如写个读书笔记，你得</p><h4 id="第一章"><a href="#第一章" class="headerlink" title="第一章"></a>第一章</h4><ol><li>第一节</li></ol><ul><li>第二节(你不用敲 “2”，自动就有了）<ul><li>第一小节（推荐每层次缩进四个空格）<ul><li>小小节 1</li><li>小小节 2</li></ul></li><li>第二小节</li></ul></li></ul><p>也不难：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#### 第一章</span><br><span class="line"></span><br><span class="line">1. 第一节</span><br><span class="line">* 第二节(你不用敲 &quot;2&quot;，自动就有了）</span><br><span class="line">    * 第一小节（推荐每层次缩进四个空格）</span><br><span class="line">        * 小小节 1</span><br><span class="line">        * 小小节 2</span><br><span class="line">    * 第二小节</span><br></pre></td></tr></table></figure><p>“<code>*</code>” 后面要加空格，这是必须的，除了 <code>*</code>，还可以使用 <code>+</code> 或者 <code>-</code>。</p><p>如果格式出现问题，多加个空行，一般就好了。</p><hr><h1 id="4-链接，图片"><a href="#4-链接，图片" class="headerlink" title="4. 链接，图片"></a>4. 链接，图片</h1><p>你：我没读过 <em>Jane Eyre</em><br>我：以后别跟我说话！<br>你：。。。<br>我：我也没读过，但是， <a href="http://book.douban.com/subject/1141406/" target="_blank" rel="noopener"><strong><em>Jane Eyre</em></strong></a> is not just <strong><em>Jane Eyre</em></strong><br><img src="http://img3.douban.com/mpic/s1108264.jpg" alt></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我：我也没读过，但是， [***Jane Eyre***](http://book.douban.com/subject/1141406/) is not just ***Jane Eyre***</span><br><span class="line">![](http://img3.douban.com/mpic/s1108264.jpg)</span><br></pre></td></tr></table></figure><hr><h1 id="5-其他"><a href="#5-其他" class="headerlink" title="5. 其他"></a><a href="chrome://not-a-link" target="_blank" rel="noopener">5. 其他</a></h1><p>你可能还没注意到本文每部分之间的分割线和 <code>其他</code> 的链接其实没有链接<br>我爱 <code>分割线</code>， 我爱 <a href="chrome://not-a-link" target="_blank" rel="noopener"><strong>链接</strong></a>，哪怕它只有颜色~</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"># [5. 其他][null-link]</span><br><span class="line"></span><br><span class="line">你可能还没注意到本文每部分之间的分割线和 `其他` 的链接其实没有链接</span><br><span class="line">我爱 `分割线`， 我爱 [**链接**][null-link]，哪怕它只有颜色~</span><br><span class="line"></span><br><span class="line">[null-link]: chrome://not-a-link</span><br></pre></td></tr></table></figure><p>“<code>---</code>” 的上下最好各空一行</p><hr><p><strong>P.S.</strong> 补充一种高端的链接: [鼠标移过来，<strong>先别单击</strong> ~][hover]<br>[hover]: <a href="http://www.google.com.sg" target="_blank" rel="noopener">http://www.google.com.sg</a> “Google Sg 更快，更好用。好，现在单击吧”</p><p>代码如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**P.S.** 补充一种高端的链接: [鼠标移过来，**先别单击** ~][hover]</span><br><span class="line">[hover]: http://www.google.com.sg &quot;Google Sg 更快，更好用。好，现在单击吧&quot;</span><br></pre></td></tr></table></figure><p>（可惜 Google 被墙了）</p><p><strong>P.P.S.</strong> 图片链接：(点击图片可跳转）<br>[![][jane-eyre-pic]][jane-eyre-douban]<br>[jane-eyre-pic]: <a href="http://img3.douban.com/mpic/s1108264.jpg" target="_blank" rel="noopener">http://img3.douban.com/mpic/s1108264.jpg</a><br>[jane-eyre-douban]: <a href="http://book.douban.com/subject/1141406/" target="_blank" rel="noopener">http://book.douban.com/subject/1141406/</a></p><p>代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[![][jane-eyre-pic]][jane-eyre-douban]</span><br><span class="line">[jane-eyre-pic]: http://img3.douban.com/mpic/s1108264.jpg</span><br><span class="line">[jane-eyre-douban]: http://book.douban.com/subject/1141406/</span><br></pre></td></tr></table></figure></p><p>作者：Gnat</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;1-标题&quot;&gt;&lt;a href=&quot;#1-标题&quot; class=&quot;headerlink&quot; title=&quot;1. 标题&quot;&gt;&lt;/a&gt;1. 标题&lt;/h1&gt;&lt;p&gt;为了获得上面的 “&lt;code&gt;1. 标题&lt;/code&gt;”， 在 Markdown 编辑器里输入：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;# 1. 标题&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;“&lt;code&gt;#&lt;/code&gt;” 后最好加个空格。除此之外，还有 5 级标题，依次有不同的字体大小，即&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;## 二级标题&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;### 三级标题&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#### 四级标题&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;##### 五级标题&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;###### 六级标题&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;这样就有：&lt;br&gt;
    
    </summary>
    
      <category term="Markdown" scheme="https://winnerchen.github.io/categories/Markdown/"/>
    
    
      <category term="Markdown" scheme="https://winnerchen.github.io/tags/Markdown/"/>
    
      <category term="文本编辑" scheme="https://winnerchen.github.io/tags/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91/"/>
    
  </entry>
  
  <entry>
    <title>Hello Hexo</title>
    <link href="https://winnerchen.github.io/2017/08/06/Hello-Hexo/"/>
    <id>https://winnerchen.github.io/2017/08/06/Hello-Hexo/</id>
    <published>2017-08-06T05:58:32.000Z</published>
    <updated>2022-06-11T08:38:55.970Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hello"><a href="#Hello" class="headerlink" title="Hello"></a>Hello</h1><p>This is my first article:)</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hello&quot;&gt;&lt;a href=&quot;#Hello&quot; class=&quot;headerlink&quot; title=&quot;Hello&quot;&gt;&lt;/a&gt;Hello&lt;/h1&gt;&lt;p&gt;This is my first article:)&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="未分类" scheme="https://winnerchen.github.io/tags/%E6%9C%AA%E5%88%86%E7%B1%BB/"/>
    
  </entry>
  
</feed>
